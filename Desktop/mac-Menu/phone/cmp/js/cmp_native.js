function _equalObj(objA,objB){if(typeof arguments[0]!=typeof arguments[1])return!1;if(arguments[0]instanceof Array){if(arguments[0].length!=arguments[1].length)return!1;for(var allElementsEqual=!0,i=0;i<arguments[0].length;++i){if(typeof arguments[0][i]!=typeof arguments[1][i])return!1;allElementsEqual="number"==typeof arguments[0][i]&&"number"==typeof arguments[1][i]?arguments[0][i]==arguments[1][i]:arguments.callee(arguments[0][i],arguments[1][i])}return allElementsEqual}if(arguments[0]instanceof Object&&arguments[1]instanceof Object){var result=!0,attributeLengthA=0,attributeLengthB=0;for(var o in arguments[0]){if("number"==typeof arguments[0][o]||"string"==typeof arguments[0][o]){if(result=eval("arguments[0]['"+o+"'] == arguments[1]['"+o+"']"),0==result)return!1}else if(!arguments.callee(eval("arguments[0]['"+o+"']"),eval("arguments[1]['"+o+"']")))return result=!1;++attributeLengthA}for(var o in arguments[1])++attributeLengthB;return attributeLengthA!=attributeLengthB&&(result=!1),result}return arguments[0]==arguments[1]}function escapeStringToHTML(a,b){return a?(a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/\r/g,""),a=a.replace(/\n/g,"<br/>"),a=a.replace(/\'/g,"&#039;"),a=a.replace(/"/g,"&#034;"),"undefined"==typeof b||1!=b&&"true"!=b||(a=a.replace(/ /g,"&nbsp;")),a):""}function _escapeStringToJavascript(a){return a?(a=a.replace(/\r/g,""),a=a.replace(/\n/g,""),a=a.replace(/\\r\\n/g,"")):a}Object.setPrototypeOf=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a};var mui=function(a,b){var c=/complete|loaded|interactive/,d=/^#([\w-]+)$/,e=/^\.([\w-]+)$/,f=/^[\w-]+$/,g=/translate(?:3d)?\((.+?)\)/,h=/matrix(3d)?\((.+?)\)/,i=function(b,c){if(c=c||a,!b)return j();if("object"==typeof b){if("[object NodeList]"===Object.prototype.toString.call(b)&&window.isWorkbench){for(var e=[],f=0;f<b.length;f++)e.push(b[f]);return j(e,null)}return j([b],null)}if("function"==typeof b)return i.ready(b);if("string"==typeof b)try{if(b=b.trim(),d.test(b)){var g=a.getElementById(RegExp.$1);return j(g?[g]:[])}return j(i.qsa(b,c),b)}catch(h){}return j()},j=function(a,b){return a=a||[],Object.setPrototypeOf(a,i.fn),a.selector=b||"",a};i.uuid=0,i.data={},i.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},j=1,k=arguments.length,l=!1;for("boolean"==typeof h&&(l=h,h=arguments[j]||{},j++),"object"==typeof h||i.isFunction(h)||(h={}),j===k&&(h=this,j--);k>j;j++)if(null!=(a=arguments[j]))for(c in a)d=h[c],e=a[c],h!==e&&(l&&e&&(i.isPlainObject(e)||(f=i.isArray(e)))?(f?(f=!1,g=d&&i.isArray(d)?d:[]):g=d&&i.isPlainObject(d)?d:{},h[c]=i.extend(l,g,e)):e!==b&&(h[c]=e));return h},i.noop=function(){},i.slice=[].slice,i.filter=[].filter,i.type=function(a){return null==a?String(a):k[{}.toString.call(a)]||"object"},i.isArray=Array.isArray||function(a){return a instanceof Array},i.isWindow=function(a){return null!=a&&a===a.window},i.isObject=function(a){return"object"===i.type(a)},i.isPlainObject=function(a){return i.isObject(a)&&!i.isWindow(a)&&Object.getPrototypeOf(a)===Object.prototype},i.isEmptyObject=function(a){for(var c in a)if(c!==b)return!1;return!0},i.isFunction=function(a){return"function"===i.type(a)},i.qsa=function(b,c){return c=c||a,i.slice.call(e.test(b)?c.getElementsByClassName(RegExp.$1):f.test(b)?c.getElementsByTagName(b):c.querySelectorAll(b))},i.ready=function(b){return c.test(a.readyState)?b(i):a.addEventListener("DOMContentLoaded",function(){b(i)},!1),this},i.map=function(a,b){var c,d,e,f=[];if("number"==typeof a.length)for(d=0,len=a.length;d<len;d++)c=b(a[d],d),null!=c&&f.push(c);else for(e in a)c=b(a[e],e),null!=c&&f.push(c);return f.length>0?[].concat.apply([],f):f},i.each=function(a,b,c){if(!a)return this;if("number"==typeof a.length)[].every.call(a,function(a,c){return b.call(a,c,a)!==!1});else for(var d in a)if(c){if(a.hasOwnProperty(d)&&b.call(a[d],d,a[d])===!1)return a}else if(b.call(a[d],d,a[d])===!1)return a;return this},i.focus=function(a){i.os.ios?setTimeout(function(){a.focus()},10):a.focus()},i.trigger=function(a,b,c){return a.dispatchEvent(new CustomEvent(b,{detail:c,bubbles:!0,cancelable:!0})),this},i.getStyles=function(a,b){var c=a.ownerDocument.defaultView.getComputedStyle(a,null);return b?c.getPropertyValue(b)||c[b]:c},i.parseTranslate=function(a,b){var c=a.match(g||"");return c&&c[1]||(c=["","0,0,0"]),c=c[1].split(","),c={x:parseFloat(c[0]),y:parseFloat(c[1]),z:parseFloat(c[2])},b&&c.hasOwnProperty(b)?c[b]:c},i.parseTranslateMatrix=function(a,b){var c=a.match(h),d=c&&c[1];c?(c=c[2].split(","),"3d"===d?c=c.slice(12,15):(c.push(0),c=c.slice(4,7))):c=[0,0,0];var e={x:parseFloat(c[0]),y:parseFloat(c[1]),z:parseFloat(c[2])};return b&&e.hasOwnProperty(b)?e[b]:e},i.registerHandler=function(a,b){var c=i[a];return c||(c=[]),b.index=b.index||1e3,c.push(b),c.sort(function(a,b){return a.index-b.index}),i[a]=c,i[a]},i.later=function(a,b,c,d){b=b||0;var e,f,g=a,h=d;return"string"==typeof a&&(g=c[a]),e=function(){g.apply(c,i.isArray(h)?h:[h])},f=setTimeout(e,b),{id:f,cancel:function(){clearTimeout(f)}}},i.now=Date.now||function(){return+new Date};var k={};return i.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],function(a,b){k["[object "+b+"]"]=b.toLowerCase()}),window.JSON&&(i.parseJSON=JSON.parse),i.fn={each:function(a){return[].every.call(this,function(b,c){return a.call(b,c,b)!==!1}),this}},"function"==typeof define&&define.amd&&define("mui",[],function(){return i}),i}(document);!function(a,b){function c(c){this.os={};var d=[function(){var a=c.match(/(MicroMessenger)\/([\d\.]+)/i);return a&&(this.os.wechat={version:a[2].replace(/_/g,".")}),!1},function(){var a=c.match(/(Android);?[\s\/]+([\d.]+)?/);return a&&(this.os.android=!0,this.os.version=a[2],this.os.isBadAndroid=!/Chrome\/\d/.test(b.navigator.appVersion)),this.os.android===!0},function(){var a=c.match(/(iPhone\sOS)\s([\d_]+)/);if(a)this.os.ios=this.os.iphone=!0,this.os.version=a[2].replace(/_/g,".");else{var b=c.match(/(iPad).*OS\s([\d_]+)/);b&&(this.os.ios=this.os.ipad=!0,this.os.version=b[2].replace(/_/g,"."))}return this.os.ios===!0}];[].every.call(d,function(b){return!b.call(a)})}c.call(a,navigator.userAgent)}(mui,window),function(a,b,c){a.targets={},a.targetHandles=[],a.registerTarget=function(b){return b.index=b.index||1e3,a.targetHandles.push(b),a.targetHandles.sort(function(a,b){return a.index-b.index}),a.targetHandles},b.addEventListener("touchstart",function(b){for(var d=b.target,e={};d&&d!==c;d=d.parentNode){var f=!1;if(a.each(a.targetHandles,function(c,g){var h=g.name;f||e[h]||!g.hasOwnProperty("handle")?e[h]||g.isReset!==!1&&(a.targets[h]=!1):(a.targets[h]=g.handle(b,d),a.targets[h]&&(e[h]=!0,g.isContinue!==!0&&(f=!0)))}),f)break}})}(mui,window,document),function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("Events"),d=!0;for(var e in b)"bubbles"===e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0),c}"undefined"==typeof window.CustomEvent&&(a.prototype=window.Event.prototype,window.CustomEvent=a)}(),function(a){"classList"in a.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function a(a){return function(c){var d=b.className.split(/\s+/),e=d.indexOf(c);a(d,e,c),b.className=d.join(" ")}}var b=this,c={add:a(function(a,b,c){~b||a.push(c)}),remove:a(function(a,b){~b&&a.splice(b,1)}),toggle:a(function(a,b,c){~b?a.splice(b,1):a.push(c)}),contains:function(a){return!!~b.className.split(/\s+/).indexOf(a)},item:function(a){return b.className.split(/\s+/)[a]||null}};return Object.defineProperty(c,"length",{get:function(){return b.className.split(/\s+/).length}}),c}})}(document),function(a){if(!a.requestAnimationFrame){var b=0;a.requestAnimationFrame=a.webkitRequestAnimationFrame||function(c,d){var e=(new Date).getTime(),f=Math.max(0,16.7-(e-b)),g=a.setTimeout(function(){c(e+f)},f);return b=e+f,g},a.cancelAnimationFrame=a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||function(a){clearTimeout(a)}}}(window),function(a,b,c){if(!b.FastClick){var d=function(a,b){return"LABEL"===b.tagName&&b.parentNode&&(b=b.parentNode.querySelector("input")),!b||"radio"!==b.type&&"checkbox"!==b.type||b.disabled?!1:b};a.registerTarget({name:c,index:40,handle:d,target:!1});var e=function(c){var d=a.targets.click;if(d){var e,f;document.activeElement&&document.activeElement!==d&&document.activeElement.blur(),f=c.detail.gesture.changedTouches[0],e=document.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,b,1,f.screenX,f.screenY,f.clientX,f.clientY,!1,!1,!1,!1,0,null),e.forwardedTouchEvent=!0,d.dispatchEvent(e),c.detail&&c.detail.gesture.preventDefault()}};b.addEventListener("tap",e),b.addEventListener("doubletap",e),b.addEventListener("click",function(b){return a.targets.click&&!b.forwardedTouchEvent?(b.stopImmediatePropagation?b.stopImmediatePropagation():b.propagationStopped=!0,b.stopPropagation(),b.preventDefault(),!1):void 0},!0)}}(mui,window,"click"),function(a,b){a(function(){if(a.os.ios){var c="cmp-focusin",d="cmp-bar-tabview",e="cmp-bar-footer",f="cmp-bar-footer-secondary",g="cmp-bar-footer-secondary-tabview";b.addEventListener("focusin",function(a){var h=a.target;if(h.tagName&&"INPUT"===h.tagName&&("text"===h.type||"search"===h.type||"number"===h.type)){if(h.disabled||h.readOnly)return;b.body.classList.add(c);for(var i=!1;h&&h!==b;h=h.parentNode){var j=h.classList;if(j&&j.contains(d)||j.contains(e)||j.contains(f)||j.contains(g)){i=!0;break}}if(i){var k=b.body.scrollHeight,l=b.body.scrollLeft;setTimeout(function(){window.scrollTo(l,k)},20)}}}),b.addEventListener("focusout",function(a){var d=b.body.classList;d.contains(c)&&(d.remove(c),setTimeout(function(){window.scrollTo(b.body.scrollLeft,b.body.scrollTop)},20))})}})}(mui,document),function(a){a.namespace="cmp",a.classNamePrefix=a.namespace+"-",a.classSelectorPrefix="."+a.classNamePrefix,a.className=function(b){return a.classNamePrefix+b},a.classSelector=function(b){return b.replace(/\./g,a.classSelectorPrefix)},a.eventName=function(b,c){return b+(a.namespace?"."+a.namespace:"")+(c?"."+c:"")}}(mui),function(a){var b=1,c={},d={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},e=function(){return!0},f=function(){return!1},g=function(b,c){return b.detail?b.detail.currentTarget=c:b.detail={currentTarget:c},a.each(d,function(a,c){var d=b[a];b[a]=function(){return this[c]=e,d&&d.apply(b,arguments)},b[c]=f},!0),b},h=function(a){return a._mid||(a._mid=b++)},i={},j=function(b,d,e,f){return function(e){for(var f=c[b._mid][d],h=[],i=e.target,j={};i&&i!==document&&i!==b&&(!~["click","tap","doubletap","longtap","hold"].indexOf(d)||!i.disabled&&!i.classList.contains("cmp-disabled"));i=i.parentNode){var k={};a.each(f,function(c,d){j[c]||(j[c]=a.qsa(c,b)),j[c]&&~j[c].indexOf(i)&&(k[c]||(k[c]=d))},!0),a.isEmptyObject(k)||h.push({element:i,handlers:k})}j=null,e=g(e),a.each(h,function(b,c){i=c.element;var f=i.tagName;return"tap"===d&&"INPUT"!==f&&"TEXTAREA"!==f&&"SELECT"!==f&&(e.preventDefault(),e.detail&&e.detail.gesture&&e.detail.gesture.preventDefault()),a.each(c.handlers,function(b,c){a.each(c,function(a,b){b.call(i,e)===!1&&(e.preventDefault(),e.stopPropagation())},!0)},!0),e.isPropagationStopped()?!1:void 0},!0)}},k=/^(INPUT|TEXTAREA|BUTTON|SELECT)$/;a.fn.on=function(b,d,e){return this.each(function(){var f=this;h(f),h(e);var g=!1,l=c[f._mid]||(c[f._mid]={}),m=l[b]||(l[b]={});a.isEmptyObject(m)&&(g=!0);var n=m[d]||(m[d]=[]);n.push(e),g&&(i[h(f)]=j(f,b,d,e),f.addEventListener(b,i[h(f)]),"tap"===b&&f.addEventListener("click",function(a){if(a.target){var b=a.target.tagName;if(!k.test(b))if("A"===b){var c=a.target.href;c&&~c.indexOf("tel:")||a.preventDefault()}else a.preventDefault()}}))})},a.fn.off=function(b,d,e){return this.each(function(){var f=h(this);if(e){var g=c[f]&&c[f][b]&&c[f][b][d];a.each(g,function(a,b){return h(b)===h(e)?(g.splice(a,1),!1):void 0},!0)}else c[f]&&c[f][b]&&delete c[f][b][d];c[f]&&a.isEmptyObject(c[f][b])&&(this.removeEventListener(b,i[f]),delete i[f])})}}(mui),function(a,b){a.EVENT_START="touchstart",a.EVENT_MOVE="touchmove",a.EVENT_END="touchend",a.EVENT_CANCEL="touchcancel",a.EVENT_CLICK="click",a.preventDefault=function(a){a.preventDefault()},a.stopPropagation=function(a){a.stopPropagation()},a.registerGesture=function(b){return a.registerHandler("gestures",b)};var c=function(a,b){var c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)},d=function(a,b){return 180*Math.atan2(b.y-a.y,b.x-a.x)/Math.PI},e=function(a){return-45>a&&a>-135?"up":a>=45&&135>a?"down":a>=135||-135>=a?"left":a>=-45&&45>=a?"right":null},f=function(b,c){a.gestures.stoped||(a.options.gestureConfig||(a.options=a.extend(a.options,a.global)),a.each(a.gestures,function(d,e){a.gestures.stoped||a.options.gestureConfig[e.name]!==!1&&e.handle(b,c)}))},g=function(b){a.gestures.stoped=!1,a.gestures.touchmoveAction=!1;var c=a.now(),d=b.touches?b.touches[0]:b;a.gestures.touch={target:b.target,lastTarget:a.gestures.touch&&a.gestures.touch.lastTarget?a.gestures.touch.lastTarget:null,startTime:c,touchTime:0,flickStartTime:c,lastTapTime:a.gestures.touch&&a.gestures.touch.lastTapTime?a.gestures.touch.lastTapTime:0,start:{x:d.pageX,y:d.pageY},flickStart:{x:d.pageX,y:d.pageY},flickDistanceX:0,flickDistanceY:0,move:{x:0,y:0},deltaX:0,deltaY:0,lastDeltaX:0,lastDeltaY:0,angle:"",direction:"",lockDirection:!1,startDirection:"",distance:0,drag:!1,swipe:!1,hold:!1,gesture:b},a.gestures.touchstartTarget=b.target,f(b,a.gestures.touch)},h=function(b){if(!a.gestures.stoped&&a.gestures.touch){var g=a.gestures.touch;if(b.target==g.target){var h=a.now(),i=b.touches?b.touches[0]:b;g.touchTime=h-g.startTime,g.move={x:i.pageX,y:i.pageY},h-g.flickStartTime>300&&(g.flickStartTime=h,g.flickStart=g.move),g.distance=c(g.start,g.move),g.angle=d(g.start,g.move),g.direction=e(g.angle),g.lastDeltaX=g.deltaX,g.lastDeltaY=g.deltaY,g.deltaX=g.move.x-g.start.x,g.deltaY=g.move.y-g.start.y,g.gesture=b,a.gestures.touchmoveAction=!0,f(b,g)}}},i=function(b){if(!a.gestures.stoped&&a.gestures.touch){var c=a.gestures.touch;if(b.target==c.target){var d=a.now();return c.touchTime=d-c.startTime,c.flickTime=d-c.flickStartTime,c.flickDistanceX=c.move.x-c.flickStart.x,c.flickDistanceY=c.move.y-c.flickStart.y,c.gesture=b,a.gestures.touchstartTarget==b.target||a.gestures.touchmoveAction?void f(b,c):void console.log("touchstart和end不一样")}}};b.addEventListener(a.EVENT_START,g),b.addEventListener(a.EVENT_MOVE,h),b.addEventListener(a.EVENT_END,i),b.addEventListener(a.EVENT_CANCEL,i),b.addEventListener(a.EVENT_CLICK,function(b){(a.targets.popover&&b.target===a.targets.popover||a.targets.tab||a.targets.offcanvas||a.targets.modal)&&b.preventDefault()},!0),a.isScrolling=!1;var j=null;b.addEventListener("scroll",function(){a.isScrolling=!0,j&&clearTimeout(j),j=setTimeout(function(){a.isScrolling=!1},250)})}(mui,window),function(a,b){var c=function(c,d){if(c.type===a.EVENT_END||c.type===a.EVENT_CANCEL){var e=this.options;d.direction&&e.flickMaxTime>d.flickTime&&d.distance>e.flickMinDistince&&(d.flick=!0,a.trigger(c.target,b,d),a.trigger(c.target,b+d.direction,d))}};a.registerGesture({name:b,index:5,handle:c,options:{flickMaxTime:200,flickMinDistince:10}})}(mui,"flick"),function(a,b){var c=function(c,d){if(c.type===a.EVENT_END||c.type===a.EVENT_CANCEL){var e=this.options;d.direction&&e.swipeMaxTime>d.touchTime&&d.distance>e.swipeMinDistince&&(d.swipe=!0,a.trigger(c.target,b+d.direction,d))}};a.registerGesture({name:b,index:10,handle:c,options:{swipeMaxTime:300,swipeMinDistince:18}})}(mui,"swipe"),function(a,b){var c=function(c,d){switch(c.type){case a.EVENT_MOVE:d.direction&&(d.lockDirection&&d.startDirection&&d.startDirection&&d.startDirection!==d.direction&&("up"===d.startDirection||"down"===d.startDirection?d.direction=d.deltaY<0?"up":"down":d.direction=d.deltaX<0?"left":"right"),d.drag||(d.drag=!0,a.trigger(c.target,b+"start",d)),a.trigger(c.target,b,d),a.trigger(c.target,b+d.direction,d));break;case a.EVENT_END:case a.EVENT_CANCEL:d.drag&&a.trigger(c.target,b+"end",d)}};a.registerGesture({name:b,index:20,handle:c,options:{}})}(mui,"drag"),function(a,b){var c=function(c,d){if(c.type===a.EVENT_END){var e=this.options;if(d.distance<e.tapMaxDistance&&d.touchTime<e.tapMaxTime){if(a.options.gestureConfig.doubletap&&d.lastTarget&&d.lastTarget===c.target&&d.lastTapTime&&d.startTime-d.lastTapTime<e.tapMaxInterval)return a.trigger(c.target,"doubletap",d),d.lastTapTime=a.now(),void(d.lastTarget=c.target);a.trigger(c.target,b,d),d.lastTapTime=a.now(),d.lastTarget=c.target}}};a.registerGesture({name:b,index:30,handle:c,options:{tapMaxInterval:300,tapMaxDistance:6,tapMaxTime:200}})}(mui,"tap"),function(a,b){var c,d=function(d,e){var f=this.options;switch(d.type){case a.EVENT_START:clearTimeout(c),c=setTimeout(function(){e.drag||a.trigger(d.target,b,e)},f.holdTimeout);break;case a.EVENT_MOVE:e.distance>f.holdThreshold&&clearTimeout(c);break;case a.EVENT_END:case a.EVENT_CANCEL:clearTimeout(c)}};a.registerGesture({name:b,index:10,handle:d,options:{holdTimeout:500,holdThreshold:2}})}(mui,"longtap"),function(a,b){var c,d=function(d,e){var f=this.options;switch(d.type){case a.EVENT_START:clearTimeout(c),c=setTimeout(function(){e.hold=!0,a.trigger(d.target,b,e)},f.holdTimeout);break;case a.EVENT_MOVE:break;case a.EVENT_END:case a.EVENT_CANCEL:clearTimeout(c),a.options.gestureConfig.hold&&e.hold&&a.trigger(d.target,"release",e)}};a.registerGesture({name:b,index:10,handle:d,options:{holdTimeout:0}})}(mui,"hold"),function(a){a.global=a.options={gestureConfig:{tap:!0,doubletap:!1,longtap:!1,hold:!1,flick:!0,swipe:!0,drag:!0}},a.initGlobal=function(b){return a.options=a.extend(!0,a.global,b),this};var b={},c=!1;a.init=function(d){return c=!0,a.options=a.extend(!0,a.global,d||{}),a.ready(function(){a.each(a.inits,function(c,d){var e=!(b[d.name]&&!d.repeat);e&&(d.handle.call(a),b[d.name]=!0)})}),this},a.registerInit=function(b){return a.registerHandler("inits",b)},a(function(){var b=document.body.classList,c=[];a.os.ios?(c.push({os:"ios",version:a.os.version}),b.add("cmp-ios")):a.os.android&&(c.push({os:"android",version:a.os.version}),b.add("cmp-android")),a.os.wechat&&(c.push({os:"wechat",version:a.os.wechat.version}),b.add("cmp-wechat")),c.length&&a.each(c,function(c,d){var e="";d.version&&a.each(d.version.split("."),function(c,f){e=e+(e?"-":"")+f,b.add(a.className(d.os+"-"+e))})})})}(mui),function(a){var b=!1,c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,d=function(){};d.extend=function(a){function d(){!b&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;b=!0;var f=new this;b=!1;for(var g in a)f[g]="function"==typeof a[g]&&"function"==typeof e[g]&&c.test(a[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,a[g]):a[g];return d.prototype=f,d.prototype.constructor=d,d.extend=arguments.callee,d},a.Class=d}(mui),function(a,b,c){a.offset=function(a){var d={top:0,left:0};return typeof a.getBoundingClientRect!==c&&(d=a.getBoundingClientRect()),{top:d.top+b.pageYOffset-a.clientTop,left:d.left+b.pageXOffset-a.clientLeft}}}(mui,window),function(a,b){a.animationFrame=function(a){var b,c,d;return function(){b=arguments,d=this,c||(c=!0,requestAnimationFrame(function(){a.apply(d,b),c=!1}))}}}(mui,window),function($,window,document,name,undefined){var CLASS_CONTROL_ITEM="cmp-control-item",CLASS_SEGMENTED_CONTROL="cmp-segmented-control",CLASS_CONTROL_CONTENT="cmp-control-content",CLASS_TAB_BAR="cmp-bar-tabview",CLASS_TAB_ITEM="cmp-tabview-item",CLASS_SLIDER_ITEM="cmp-slider-item",handle=function(a,b){return b.classList&&(b.classList.contains(CLASS_CONTROL_ITEM)||b.classList.contains(CLASS_TAB_ITEM))?(a.preventDefault(),b):!1};$.registerTarget({name:name,index:80,handle:handle,target:!1}),window.addEventListener("tap",function(e){var targetTab=$.targets.tab;if(targetTab){for(var activeTab,activeBodies,targetBody,className="cmp-active",classSelector="."+className,segmentedControl=targetTab.parentNode;segmentedControl&&segmentedControl!==document;segmentedControl=segmentedControl.parentNode){if(segmentedControl.classList.contains(CLASS_SEGMENTED_CONTROL)){activeTab=segmentedControl.querySelector(classSelector+"."+CLASS_CONTROL_ITEM);break}segmentedControl.classList.contains(CLASS_TAB_BAR)&&(activeTab=segmentedControl.querySelector(classSelector+"."+CLASS_TAB_ITEM))}if("NAV"==targetTab.nodeName&&(targetTab.hash=targetTab.getAttribute("href")),"NAV"==activeTab.nodeName&&(activeTab.hash=activeTab.getAttribute("href")),targetTab.hash!=activeTab.hash){activeTab&&activeTab.classList.remove(className);var isLastActive=targetTab===activeTab;if(targetTab.hash&&(targetTab.classList.add(className),targetBody=document.getElementById(targetTab.hash.replace("#","")))){if(!targetBody.classList.contains(CLASS_CONTROL_CONTENT))return void targetTab.classList[isLastActive?"remove":"add"](className);if(!isLastActive){var parentNode=targetBody.parentNode;activeBodies=parentNode.querySelectorAll("."+CLASS_CONTROL_CONTENT+classSelector);for(var i=0;i<activeBodies.length;i++){var activeBody=activeBodies[i];activeBody.parentNode===parentNode&&activeBody.classList.remove(className)}targetBody.classList.add(className);var contents=targetBody.parentNode.querySelectorAll("."+CLASS_CONTROL_CONTENT);if($.trigger(targetBody,"shown.tab",{tabNumber:Array.prototype.indexOf.call(contents,targetBody)}),e.detail&&e.detail.gesture.preventDefault(),targetTab){var callback=targetTab.getAttribute("cmp-callback"),params=targetTab.getAttribute("cmp-params");callback&&(callback=eval(callback),params&&(params=eval(params)),"function"==typeof callback&&(params?callback(params):callback()))}}}}}})}(mui,window,document,"tab"),function(a,b,c){var d="cmp-switch",e="cmp-switch-handle",f="cmp-active",g="cmp-dragging",h="cmp-disabled",i="."+e,j=function(a,b){return b.classList&&b.classList.contains(d)?b:!1};a.registerTarget({name:c,index:100,handle:j,target:!1});var k=function(a){this.element=a,this.classList=this.element.classList,this.handle=this.element.querySelector(i),this.init(),this.initEvent()};k.prototype.init=function(){this.toggleWidth=this.element.offsetWidth,this.handleWidth=this.handle.offsetWidth,this.handleX=this.toggleWidth-this.handleWidth-1},k.prototype.initEvent=function(){this.element.addEventListener("touchstart",this),this.element.addEventListener("drag",this),this.element.addEventListener("swiperight",this),this.element.addEventListener("touchend",this),this.element.addEventListener("touchcancel",this)},k.prototype.handleEvent=function(a){if(!this.classList.contains(h))switch(a.type){case"touchstart":this.start(a);break;case"drag":this.drag(a);break;case"swiperight":this.swiperight();break;case"touchend":case"touchcancel":this.end(a)}},k.prototype.start=function(a){this.classList.add(g),(0===this.toggleWidth||0===this.handleWidth)&&this.init()},k.prototype.drag=function(a){var b=a.detail;this.isDragging||("left"===b.direction||"right"===b.direction)&&(this.isDragging=!0,this.lastChanged=void 0,this.initialState=this.classList.contains(f)),this.isDragging&&(this.setTranslateX(b.deltaX),a.stopPropagation(),b.gesture.preventDefault())},k.prototype.swiperight=function(a){this.isDragging&&a.stopPropagation()},k.prototype.end=function(b){this.classList.remove(g),this.isDragging?(this.isDragging=!1,b.stopPropagation(),a.trigger(this.element,"toggle",{isActive:this.classList.contains(f)})):this.toggle()},k.prototype.toggle=function(){var b=this.classList;b.contains(f)?(b.remove(f),this.handle.style.webkitTransform="translate(0,0)"):(b.add(f),this.handle.style.webkitTransform="translate("+this.handleX+"px,0)"),a.trigger(this.element,"toggle",{isActive:this.classList.contains(f)})},k.prototype.setTranslateX=a.animationFrame(function(a){if(this.isDragging){var b=!1;(this.initialState&&-a>this.handleX/2||!this.initialState&&a>this.handleX/2)&&(b=!0),this.lastChanged!==b&&(b?(this.handle.style.webkitTransform="translate("+(this.initialState?0:this.handleX)+"px,0)",this.classList[this.initialState?"remove":"add"](f)):(this.handle.style.webkitTransform="translate("+(this.initialState?this.handleX:0)+"px,0)",this.classList[this.initialState?"add":"remove"](f)),this.lastChanged=b)}}),a.fn["switch"]=function(b){var c=[];return this.each(function(){var b=null,d=this.getAttribute("data-switch");d?b=a.data[d]:(d=++a.uuid,a.data[d]=new k(this),this.setAttribute("data-switch",d)),c.push(b)}),c.length>1?c:c[0]},a.ready(function(){a("."+d)["switch"]()})}(mui,window,"toggle"),function(a,b,c){function d(a,b){var c=b?"removeEventListener":"addEventListener";a[c]("drag",F),a[c]("dragend",F),a[c]("swiperight",F),a[c]("swipeleft",F),a[c]("flick",F)}var e,f,g="cmp-active",h="cmp-selected",i="cmp-grid-view",j="cmp-table-view-radio",k="cmp-table-view-cell",l="cmp-collapse-content",m="cmp-disabled",n="cmp-switch",o="cmp-btn",p="cmp-slider-handle",q="cmp-slider-left",r="cmp-slider-right",s="cmp-transitioning",t="."+p,u="."+q,v="."+r,w="."+h,x="."+o,y=.8,z=isOpened=openedActions=progress=!1,A=sliderActionLeft=sliderActionRight=buttonsLeft=buttonsRight=sliderDirection=sliderRequestAnimationFrame=!1,B=translateX=lastTranslateX=sliderActionLeftWidth=sliderActionRightWidth=0,C=function(a){a?f?f.classList.add(g):e&&e.classList.add(g):(B&&B.cancel(),f?f.classList.remove(g):e&&e.classList.remove(g))},D=function(){if(translateX!==lastTranslateX){if(buttonsRight&&buttonsRight.length>0){progress=translateX/sliderActionRightWidth,translateX<-sliderActionRightWidth&&(translateX=-sliderActionRightWidth-Math.pow(-translateX-sliderActionRightWidth,y));for(var a=0,b=buttonsRight.length;b>a;a++){var c=buttonsRight[a];"undefined"==typeof c._buttonOffset&&(c._buttonOffset=c.offsetLeft),buttonOffset=c._buttonOffset,E(c,translateX-buttonOffset*(1+Math.max(progress,-1)))}}if(buttonsLeft&&buttonsLeft.length>0){progress=translateX/sliderActionLeftWidth,translateX>sliderActionLeftWidth&&(translateX=sliderActionLeftWidth+Math.pow(translateX-sliderActionLeftWidth,y));for(var a=0,b=buttonsLeft.length;b>a;a++){var d=buttonsLeft[a];"undefined"==typeof d._buttonOffset&&(d._buttonOffset=sliderActionLeftWidth-d.offsetLeft-d.offsetWidth),buttonOffset=d._buttonOffset,buttonsLeft.length>1&&(d.style.zIndex=buttonsLeft.length-a),E(d,translateX+buttonOffset*(1-Math.min(progress,1)))}}E(A,translateX),lastTranslateX=translateX}sliderRequestAnimationFrame=requestAnimationFrame(function(){D()})},E=function(a,b){a&&(a.style.webkitTransform="translate3d("+b+"px,0,0)")};b.addEventListener("touchstart",function(b){e&&C(!1),e=f=!1,z=isOpened=openedActions=!1;for(var g=b.target,h=!1;g&&g!==c;g=g.parentNode)if(g.classList){var p=g.classList;if(("INPUT"===g.tagName&&"radio"!==g.type&&"checkbox"!==g.type||"BUTTON"===g.tagName||p.contains(n)||p.contains(o)||p.contains(m))&&(h=!0),p.contains(l))break;if(p.contains(k)){if(e=g,!e||!e.parentNode)return;var q=e.parentNode.querySelector(w);if(!e.parentNode.classList.contains(j)&&q&&q!==e)return a.swipeoutClose(q),void(e=h=!1);if(!e.parentNode.classList.contains(i)){var r=e.querySelector("a");r&&r.parentNode===e&&(f=r)}var s=e.querySelector(t);s&&(d(e),b.stopPropagation()),h||(s?(B&&B.cancel(),B=a.later(function(){C(!0)},100)):e.querySelector("input")||e.querySelector(x)||e.querySelector("."+n)||C(!0));break}}}),b.addEventListener("touchmove",function(a){C(!1)});var F={handleEvent:function(a){switch(a.type){case"drag":this.drag(a);break;case"dragend":this.dragend(a);break;case"flick":this.flick(a);break;case"swiperight":this.swiperight(a);break;case"swipeleft":this.swipeleft(a)}},drag:function(a){if(e){z||(A=sliderActionLeft=sliderActionRight=buttonsLeft=buttonsRight=sliderDirection=sliderRequestAnimationFrame=!1,A=e.querySelector(t),A&&(sliderActionLeft=e.querySelector(u),sliderActionRight=e.querySelector(v),sliderActionLeft&&(sliderActionLeftWidth=sliderActionLeft.offsetWidth,buttonsLeft=sliderActionLeft.querySelectorAll(x)),sliderActionRight&&(sliderActionRightWidth=sliderActionRight.offsetWidth,buttonsRight=sliderActionRight.querySelectorAll(x)),e.classList.remove(s),isOpened=e.classList.contains(h),isOpened&&(openedActions=e.querySelector(u+w)?"left":"right")));var b=a.detail,c=b.direction,d=b.angle;if("left"===c&&(d>150||-150>d)?(buttonsRight||buttonsLeft&&isOpened)&&(z=!0):"right"===c&&d>-30&&30>d&&(buttonsLeft||buttonsRight&&isOpened)&&(z=!0),z){a.stopPropagation(),a.detail.gesture.preventDefault();var f=a.detail.deltaX;if(isOpened&&("right"===openedActions?f-=sliderActionRightWidth:f+=sliderActionLeftWidth),f>0&&!buttonsLeft||0>f&&!buttonsRight){if(!isOpened)return;f=0}0>f?sliderDirection="toLeft":f>0?sliderDirection="toRight":sliderDirection||(sliderDirection="toLeft"),sliderRequestAnimationFrame||D(),translateX=f}}},flick:function(a){z&&a.stopPropagation()},swipeleft:function(a){z&&a.stopPropagation()},swiperight:function(a){z&&a.stopPropagation()},dragend:function(b){if(z){b.stopPropagation(),sliderRequestAnimationFrame&&(cancelAnimationFrame(sliderRequestAnimationFrame),sliderRequestAnimationFrame=null);var c=b.detail;z=!1;var d="close",f="toLeft"===sliderDirection?sliderActionRightWidth:sliderActionLeftWidth,g=c.swipe||Math.abs(translateX)>f/2;g&&(isOpened?"left"===c.direction&&"right"===openedActions?d="open":"right"===c.direction&&"left"===openedActions&&(d="open"):d="open"),e.classList.add(s);var i;if("open"===d){var j="toLeft"===sliderDirection?-f:f;if(E(A,j),i="toLeft"===sliderDirection?buttonsRight:buttonsLeft,"undefined"!=typeof i){for(var k=null,l=0;l<i.length;l++)k=i[l],E(k,j);k.parentNode.classList.add(h),e.classList.add(h),isOpened||a.trigger(e,"toLeft"===sliderDirection?"slideleft":"slideright")}}else E(A,0),sliderActionLeft&&sliderActionLeft.classList.remove(h),sliderActionRight&&sliderActionRight.classList.remove(h),e.classList.remove(h);var m;if(buttonsLeft&&buttonsLeft.length>0&&buttonsLeft!==i)for(var l=0,n=buttonsLeft.length;n>l;l++){var o=buttonsLeft[l];m=o._buttonOffset,"undefined"==typeof m&&(o._buttonOffset=sliderActionLeftWidth-o.offsetLeft-o.offsetWidth),E(o,m)}if(buttonsRight&&buttonsRight.length>0&&buttonsRight!==i)for(var l=0,n=buttonsRight.length;n>l;l++){var p=buttonsRight[l];m=p._buttonOffset,"undefined"==typeof m&&(p._buttonOffset=p.offsetLeft),E(p,-m)}}}};a.swipeoutOpen=function(b,c){if(b){var d=b.classList;if(!d.contains(h)){c||(c=b.querySelector(v)?"right":"left");var e=b.querySelector(a.classSelector(".slider-"+c));if(e){e.classList.add(h),d.add(h),d.remove(s);for(var f,g=e.querySelectorAll(x),i=e.offsetWidth,j="right"===c?-i:i,k=g.length,l=0;k>l;l++)f=g[l],"right"===c?E(f,-f.offsetLeft):E(f,i-f.offsetWidth-f.offsetLeft);d.add(s);for(var l=0;k>l;l++)E(g[l],j);E(b.querySelector(t),j)}}}},a.swipeoutClose=function(b){if(b){var c=b.classList;if(c.contains(h)){var d=b.querySelector(v+w)?"right":"left",e=b.querySelector(a.classSelector(".slider-"+d));if(e){e.classList.remove(h),c.remove(h),c.add(s);var f,g=e.querySelectorAll(x),i=e.offsetWidth,j=g.length;E(b.querySelector(t),0);for(var k=0;j>k;k++)f=g[k],"right"===d?E(f,-f.offsetLeft):E(f,i-f.offsetWidth-f.offsetLeft)}}}},b.addEventListener("touchend",function(a){e&&(C(!1),A&&d(e,!0))}),b.addEventListener("touchcancel",function(a){e&&(C(!1),A&&d(e,!0))});var G=function(){var a=e.classList;if(a.contains("cmp-radio")){var b=e.querySelector("input[type=radio]");b&&(b.checked=!b.checked)}else if(a.contains("cmp-checkbox")){var b=e.querySelector("input[type=checkbox]");b&&(b.checked=!b.checked)}};b.addEventListener(a.EVENT_CLICK,function(a){e&&e.classList.contains("cmp-collapse")&&a.preventDefault()}),b.addEventListener("doubletap",function(a){e&&G()});var H=/^(INPUT|TEXTAREA|BUTTON|SELECT)$/;b.addEventListener("tap",function(b){if(e){var c=b.target&&b.target.type;if("radio"===c||"checkbox"===c)return void G();var d=!1,f=e.classList,i=e.parentNode;if(i&&i.classList.contains(j)){if(f.contains(h))return;var k=i.querySelector("li"+w);return k&&k.classList.remove(h),f.add(h),void a.trigger(e,"selected",{
el:e})}if(f.contains("cmp-collapse")&&!e.parentNode.classList.contains("cmp-unfold")){if(H.test(b.target.tagName)||b.detail.gesture.preventDefault(),!f.contains(g)){var l=e.parentNode.querySelector(".cmp-collapse.cmp-active");l&&l.classList.remove(g),d=!0}f.toggle(g),d&&a.trigger(e,"expand")}else G()}})}(mui,window,document),function(a,b,c){var d="cmp-icon",e="cmp-icon-clear",f="cmp-icon-speech",g="cmp-icon-search",h="cmp-input-row",i="cmp-placeholder",j="cmp-tooltip",k="cmp-hidden",l="cmp-focusin",m="."+e,n="."+f,o="."+i,p="."+j,q=function(a){for(;a&&a!==c;a=a.parentNode)if(a.classList&&a.classList.contains(h))return a;return null},r=function(a,b){this.element=a,this.options=b||{actions:"clear"},~this.options.actions.indexOf("slider")?(this.sliderActionClass=j+" "+k,this.sliderActionSelector=p):(~this.options.actions.indexOf("clear")&&(this.clearActionClass=d+" "+e+" "+k,this.clearActionSelector=m),~this.options.actions.indexOf("speech")&&(this.speechActionClass=d+" "+f,this.speechActionSelector=n),~this.options.actions.indexOf("search")&&(this.searchActionClass=i,this.searchActionSelector=o)),this.init()};r.prototype.init=function(){this.initAction(),this.initElementEvent()},r.prototype.initAction=function(){var b=this,c=b.element.parentNode;c&&(b.sliderActionClass?b.sliderAction=b.createAction(c,b.sliderActionClass,b.sliderActionSelector):(b.searchActionClass&&(b.searchAction=b.createAction(c,b.searchActionClass,b.searchActionSelector),b.searchAction.addEventListener("tap",function(c){a.focus(b.element),c.stopPropagation()})),b.speechActionClass&&(b.speechAction=b.createAction(c,b.speechActionClass,b.speechActionSelector),b.speechAction.addEventListener("click",a.stopPropagation),b.speechAction.addEventListener("tap",function(a){b.speechActionClick(a)})),b.clearActionClass&&(b.clearAction=b.createAction(c,b.clearActionClass,b.clearActionSelector),b.clearAction.addEventListener("tap",function(a){b.clearActionClick(a)}))))},r.prototype.createAction=function(a,b,e){var f=a.querySelector(e);if(!f){var f=c.createElement("span");f.className=b,b===this.searchActionClass&&(f.innerHTML='<span class="'+d+" "+g+'"></span><span>'+this.element.getAttribute("placeholder")+"</span>",this.element.setAttribute("placeholder",""),this.element.value.trim()&&a.classList.add("cmp-active")),a.insertBefore(f,this.element.nextSibling)}return f},r.prototype.initElementEvent=function(){var b=this.element;if(this.sliderActionClass){var c=this.sliderAction,d=b.offsetLeft,e=b.offsetWidth-28,f=c.offsetWidth,g=Math.abs(b.max-b.min),h=null,i=function(){c.classList.remove(k),f=f||c.offsetWidth;var a=Math.abs(b.value)/g*e;c.style.left=14+d+a-f/2+"px",c.innerText=b.value,h&&clearTimeout(h),h=setTimeout(function(){c.classList.add(k)},1e3)};b.addEventListener("input",i),b.addEventListener("tap",i),b.addEventListener("touchmove",function(a){a.stopPropagation()})}else{if(this.clearActionClass){var j=this.clearAction;if(!j)return;a.each(["keyup","change","input","focus","cut","paste"],function(a,c){!function(a){b.addEventListener(a,function(){j.classList[b.value.trim()?"remove":"add"](k)})}(c)}),b.addEventListener("blur",function(){j.classList.add(k)})}this.searchActionClass&&(b.addEventListener("focus",function(){b.parentNode.classList.add("cmp-active")}),b.addEventListener("blur",function(){b.value.trim()||b.parentNode.classList.remove("cmp-active")}))}},r.prototype.setPlaceholder=function(a){if(this.searchActionClass){var b=this.element.parentNode.querySelector(o);b&&(b.getElementsByTagName("span")[1].innerText=a)}else this.element.setAttribute("placeholder",a)},r.prototype.clearActionClick=function(b){var c=this;c.element.value="",a.focus(c.element),c.clearAction.classList.add(k),b.preventDefault()},r.prototype.speechActionClick=function(d){if(b.plus){var e=this,f=e.element.value;e.element.value="",c.body.classList.add(l),plus.speech.startRecognize({engine:"iFly"},function(b){e.element.value+=b,a.focus(e.element),plus.speech.stopRecognize(),a.trigger(e.element,"recognized",{value:e.element.value}),f!==e.element.value&&(a.trigger(e.element,"change"),a.trigger(e.element,"input"))},function(a){c.body.classList.remove(l)})}else alert("only for 5+");d.preventDefault()},a.fn.input=function(b){var c=[];return this.each(function(){var b=null,d=[],e=q(this.parentNode);if("range"===this.type&&e.classList.contains("cmp-input-range"))d.push("slider");else{var f=this.classList;f.contains("cmp-input-clear")&&d.push("clear"),f.contains("cmp-input-speech")&&d.push("speech"),"search"===this.type&&e.classList.contains("cmp-search")&&d.push("search")}var g=this.getAttribute("data-input-"+d[0]);if(g)b=a.data[g];else{g=++a.uuid,b=a.data[g]=new r(this,{actions:d.join(",")});for(var h=0,i=d.length;i>h;h++)this.setAttribute("data-input-"+d[h],g)}c.push(b)}),1===c.length?c[0]:c},a.ready(function(){a(".cmp-input-row input").input()})}(mui,window,document),function(a){var b="ontouchstart"in document,c=b?"tap":"click",d="change",e="cmp-numbox",f="cmp-numbox-btn-plus",g="cmp-numbox-btn-minus",h="cmp-numbox-input",i=function(b,c){var d=this;if(!b)throw"构造 numbox 时缺少容器元素";d.holder=b,d.holder.__numbox_inited||(d.holder.__numbox_inited=!0,c=c||{},c.step=parseInt(c.step||1),d.options=c,d.input=a.qsa("."+h,d.holder)[0],d.plus=a.qsa("."+f,d.holder)[0],d.minus=a.qsa("."+g,d.holder)[0],d.checkValue(),d.initEvent())};i.prototype={initEvent:function(){var b=this;b.plus.addEventListener(c,function(c){var e=parseInt(b.input.value)+b.options.step;b.input.value=e.toString(),a.trigger(b.input,d,null)}),b.minus.addEventListener(c,function(c){var e=parseInt(b.input.value)-b.options.step;b.input.value=e.toString(),a.trigger(b.input,d,null)}),b.input.addEventListener(d,function(a){b.checkValue()})},checkValue:function(){var a=this,b=a.input.value;if(null==b||""==b||isNaN(b))a.input.value=a.options.min||0,a.minus.disabled=null!=a.options.min;else{var b=parseInt(b);null!=a.options.max&&!isNaN(a.options.max)&&b>=parseInt(a.options.max)?(b=a.options.max,a.plus.disabled=!0):a.plus.disabled=!1,null!=a.options.min&&!isNaN(a.options.min)&&b<=parseInt(a.options.min)?(b=a.options.min,a.minus.disabled=!0):a.minus.disabled=!1,a.input.value=b}}},a.fn.numbox=function(a){return this.each(function(a,b){if(d)new i(b,d);else{var c=b.getAttribute("data-numbox-options"),d=c?JSON.parse(c):{};d.step=b.getAttribute("data-numbox-step")||d.step,d.min=b.getAttribute("data-numbox-min")||d.min,d.max=b.getAttribute("data-numbox-max")||d.max,new i(b,d)}}),this},a.ready(function(){a("."+e).numbox()})}(mui),function(a,b,c,d){var e="cmp-popover",f="cmp-popover-arrow",g="cmp-popover-action",h="cmp-backdrop",i="cmp-bar-popover",j="cmp-bar-backdrop",k="cmp-backdrop-action",l="cmp-active",m="cmp-bottom",n=function(b,d){var f;if("A"===d.tagName&&d.hash?f=d.hash:"span"===d.tagName.toLocaleLowerCase()&&d.getAttribute("href")&&(f=d.getAttribute("href")),f){if(a.targets._popover=c.getElementById(f.replace("#","")),a.targets._popover&&a.targets._popover.classList.contains(e))return d;a.targets._popover=null}return!1};a.registerTarget({name:d,index:60,handle:n,target:!1,isReset:!1,isContinue:!0});var o=function(a){},p=function(b){this.removeEventListener("webkitTransitionEnd",p),this.addEventListener("touchmove",a.preventDefault),a.trigger(this,"shown",this)},q=function(b){u(this,"none"),this.removeEventListener("webkitTransitionEnd",q),this.removeEventListener("touchmove",a.preventDefault),o(!1),a.trigger(this,"hidden",this)},r=function(){var b=c.createElement("div");return b.classList.add(h),b.addEventListener("touchmove",a.preventDefault),b.addEventListener("tap",function(b){var d=a.targets._popover;d&&(d.addEventListener("webkitTransitionEnd",q),d.classList.remove(l),s(d),c.body.setAttribute("style",""))}),b}(),s=function(b){cmp.backbutton.pop(),r.setAttribute("style","opacity:0"),a.targets.popover=a.targets._popover=null,setTimeout(function(){!b.classList.contains(l)&&r.parentNode&&r.parentNode===c.body&&c.body.removeChild(r)},350)};b.addEventListener("tap",function(b){if(a.targets.popover){for(var d=!1,e=b.target;e&&e!==c;e=e.parentNode)e===a.targets.popover&&(d=!0);d&&(b.detail.gesture.preventDefault(),t(a.targets._popover,a.targets.popover))}});var t=function(a,b){a.removeEventListener("webkitTransitionEnd",p),a.removeEventListener("webkitTransitionEnd",q),r.classList.remove(j),r.classList.remove(k);var d=c.querySelector(".cmp-popover.cmp-active"),e=function(b){b.addEventListener("webkitTransitionEnd",q),b.classList.remove(l),a===b&&s(b)};if(!d||(e(d),a!==d)){var f=!1;(a.classList.contains(i)||a.classList.contains(g))&&(a.classList.contains(g)?(f=!0,r.classList.add(k)):r.classList.add(j)),u(a,"block"),a.offsetHeight,a.classList.add(l),cmp.backbutton.push(function(){e(a)}),r.setAttribute("style",""),c.body.appendChild(r),o(!0),v(a,b,f),r.classList.add(l),a.addEventListener("webkitTransitionEnd",p)}},u=function(a,b,c,d){var e=a.style;"undefined"!=typeof b&&(e.display=b),"undefined"!=typeof c&&(e.top=c+"px"),"undefined"!=typeof d&&(e.left=d+"px")},v=function(d,e,h){if(d&&e){var i=b.innerWidth,j=b.innerHeight,k=d.offsetWidth,l=d.offsetHeight,n=d.offsetHeight-d.childNodes[1].offsetHeight;if(h)return void u(d,"block",j-l+b.pageYOffset+n,(i-k)/2);var o=e.offsetWidth,p=e.offsetHeight,q=a.offset(e),r=d.querySelector("."+f);r||(r=c.createElement("div"),r.className=f,d.appendChild(r));var s=r&&r.offsetWidth/2||0,t=0,v=0,w=0,x=0,y=d.classList.contains(g)?0:5,z="top";l+s<q.top-b.pageYOffset?t=q.top-l-s:l+s<j-(q.top-b.pageYOffset)-p?(z="bottom",t=q.top+p+s):(z="middle",t=Math.max((j-l)/2+b.pageYOffset,0),v=Math.max((i-k)/2+b.pageXOffset,0)),"top"===z||"bottom"===z?(v=o/2+q.left-k/2,w=v,y>v&&(v=y),v+k>i&&(v=i-k-y),r&&("top"===z?r.classList.add(m):r.classList.remove(m),w-=v,x=k/2-s/2+w,x=Math.max(Math.min(x,k-2*s-6),6),r.setAttribute("style","left:"+x+"px"))):"middle"===z&&r.setAttribute("style","display:none"),u(d,"block",t,v)}};a.createMask=function(b){var d=c.createElement("div");d.classList.add(h),d.addEventListener("touchmove",a.preventDefault),d.addEventListener("tap",function(){e.close()});var e=[d];return e._show=!1,e.show=function(){return e._show=!0,d.setAttribute("style","opacity:1"),c.body.appendChild(d),e},e._remove=function(){return e._show&&(e._show=!1,d.setAttribute("style","opacity:0"),a.later(function(){var a=c.body;d.parentNode===a&&a.removeChild(d)},350)),e},e.close=function(){b?b()!==!1&&e._remove():e._remove()},e},a.fn.popover=function(){var b=arguments;this.each(function(){a.targets._popover=this,("show"===b[0]||"hide"===b[0]||"toggle"===b[0])&&t(this,b[1])})}}(mui,window,document,"popover");var pc_chrome_crossdomain_debug_a8_ip;!function(a){"undefined"!=typeof window.cmp&&("undefined"!=typeof window.cmp.i18n&&(a.i18n=window.cmp.i18n),"undefined"!=typeof window.cmp.fastAjax&&(a.fastAjax=window.cmp.fastAjax,a.historyParamsCache=window.cmp.historyParamsCache),"undefined"!=typeof window.cmp.nativeAjaxCallback&&(a.nativeAjaxCallback=window.cmp.nativeAjaxCallback,a.callbacks=window.cmp.callbacks,a.callbackId=window.cmp.callbackId));var b=a||{};b.version="2.1.1",window.cmp=b}(window.mui);var CMPFULLSREENHEIGHT=sessionStorage.getItem("CMPFULLSREENHEIGHT");CMPFULLSREENHEIGHT?CMPFULLSREENHEIGHT=parseInt(CMPFULLSREENHEIGHT):(CMPFULLSREENHEIGHT=window.innerHeight,sessionStorage.setItem("CMPFULLSREENHEIGHT",CMPFULLSREENHEIGHT));var CMPREADYMARK=!1,CMPSUPPORTORIENTATION="number"==typeof window.orientation&&"object"==typeof window.onorientationchange,_checkCordova=function(){var a=!0;return("undefined"==typeof cordova||null==cordova)&&(a=!1),!cordova||"undefined"!=typeof cordova.exec&&null!=cordova.exec||(a=!1),a},miniprogramDevice=window.localStorage.getItem("miniprogram"),CMPDevice=function(){function a(a,b,c,d,e,f,g,h,i){this.available=a,this.platform=b,this.version=c,this.uuid=d,this.cordova=e,this.model=f,this.manufacturer=g,this.enbrand=h,this.cnbrand=i}return a}();!function(a,b){function c(a,b){var c=document.createElement("script");c.src=a,document.head.appendChild(c),c.onload=b}function d(a){var b=document.createElement("style"),c=document.head?document.head:document.getElementsByTagName("head")[0];b.type="text/css";try{b.appendChild(document.createTextNode(a))}catch(d){b.styleSheet.cssText=a}return c.appendChild(b),b}function e(a){v.length&&v.forEach(function(b){if("function"==typeof b)try{setTimeout(function(){b.call(this,a)},300)}catch(c){}})}function f(){}function g(){var b=a.storage.get("cmp-href-history",!0);if(b)try{b=a.parseJSON(b)}catch(c){b=[]}else b=[];return b}function h(){var b=a.storage.get("pageURL",!0);b&&(a.storage["delete"](b,!0),a.storage["delete"]("pageURL",!0));var c=a.storage.get("cmp-href-history",!0);c=a.parseJSON(c),c&&c instanceof Array&&c.length>0&&a.storage["delete"]("cmp-href-history",!0);var d=a.storage.get("cmp-href-history");d&&a.storage["delete"]("cmp-href-history"),a.storage["delete"]("cmp-href-goParams",!0),a.storageDB.deleteAll()}function i(a){var b;b=/tr|td/g.test(a)?document.createElement("tbody"):document.createElement("div"),b.innerHTML=a;for(var c=[],d=b.children,e=0,f=d.length;f>e;e++)"undefined"!=typeof d[e]&&c.push(d[e]);return c}function j(){this.container={}}function k(){if("undefined"==typeof checkViolenceTap){var b=C();if(b){var c=E();if(c){var d=c.cmphistoryuuid;d&&d!=b&&c.nextUrl&&A("right",c.nextUrl,!1)}else{var e=g();e&&0!=e.length||a.href.closePage()}}checkViolenceTap=!0}}function l(a){for(var b,c,d,e=0,f=a.length;f>e;e++){var g=a[e];g.classList.contains("cmp-disabled")||(g.addEventListener("touchstart",function(a){b=a.changedTouches[0].pageY},!1),g.addEventListener("touchmove",function(a){c=a.changedTouches[0].pageY,(c-b>10||b-c>10)&&(this.classList.add("cmp-disabled"),d=!0)},!1),g.addEventListener("touchend",function(a){d&&(this.classList.contains("cmp-disabled")&&this.classList.remove("cmp-disabled"),this.classList.contains("cmp-dragging")&&this.classList.remove("cmp-dragging"),d=!1)},!1))}}function m(){cordova.exec(function(b){var d=b.isDebug;d&&c(cmpJSPATH+"/cmp-debug.js",function(){a.storageDB.get("showDebugBarcodeBtn",function(b){b.success&&b.data?new a.debug(!0):new a.debug},"forerve")})},null,"CMPDebugConfigPlugin","getDebugConfig",[{}])}function n(){var b=V.innerHTML;if(a.platform.CMPShell)cordova.exec(null,function(a){console.error(a)},"CMPNavigationPlugin","setTitle",[{title:b}]);else if(a.platform.DDShell)"undefined"==typeof dd?c("https://g.alicdn.com/dingding/open-develop/1.0.0/dingtalk.js",function(){dd.ready(),dd.biz.navigation.setTitle({title:b,onSuccess:function(a){},onFail:function(a){console.log("钉钉设置title失败"+a)}})}):dd.biz.navigation.setTitle({title:b,onSuccess:function(a){},onFail:function(a){console.log("钉钉设置title失败"+a)}});else if(a.platform.third){var d={title:b};a.event.trigger("cmpThirdPlatformPlugins",document,{data:d,backupsFun:function(){b&&b!=document.title&&(document.title=b)},plugin:"setTitle"})}}a.cache={},a.extend=cmp.extend||function(){var b,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[i]||{},i++),"object"==typeof h||a.isFunction(h)||(h={}),i===j&&(h=this,i--);j>i;i++)if(null!=(b=arguments[i]))for(c in b)d=h[c],e=b[c],h!==e&&(k&&e&&(a.isPlainObject(e)||(f=a.isArray(e)))?(f?(f=!1,g=d&&a.isArray(d)?d:[]):g=d&&a.isPlainObject(d)?d:{},h[c]=a.extend(k,g,e)):void 0!==e&&(h[c]=e));return h},a.parseJSON=b.JSON.parse,a.toJSON=b.JSON.stringify,a.tpl=function(a,b){var c=new Function("obj","var p='';p+='"+a.replace(/[\r\n\t]/g," ").split("\\").join("\\\\").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"'+$1+'").split("	").join("';").split("%>").join("p+='").split("\r").join("\\'")+"';return p;");return b?c.call(b):c()};var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");a.buildUUID=function(a,b){var c,d=o,e=[];if(b=b||d.length,a)for(c=0;a>c;c++)e[c]=d[0|Math.random()*b];else{var f;for(e[8]=e[13]=e[18]=e[23]="-",e[14]="4",c=0;36>c;c++)e[c]||(f=0|16*Math.random(),e[c]=d[19==c?3&f|8:f])}return e.join("")},a.language=function(){var a,b=/en/g,c=/zh/g;return navigator.language?a=navigator.language:navigator.browserLanguage?a=navigator.browserLanguage:navigator.systemLanguage?a=navigator.systemLanguage:navigator.userLanguage?a=navigator.userLanguage:navigator&&navigator.userAgent&&(a=navigator.userAgent.match(/android.*\W(\w\w)-(\w\w)\W/i))&&(a=a[1]+"-"+a[2]),a=b.test(a)?"en":c.test(a)?a.toLocaleLowerCase().indexOf("cn")>-1?"zh-CN":"zh-TW":"en"}(),a.os=function(a,b){var c={mobile:!!a.match(/AppleWebKit.*Mobile.*/),ios:!1,android:!1,iPhone:!1,iPad:!1,iPodTouch:!1};return a.indexOf("iPhone")>-1?b.indexOf("iPad")>-1?c.iPad=!0:b.indexOf("iPod")>-1?c.iPodTouch=!0:c.iPhone=!0:a.indexOf("iPad")>-1&&(c.iPad=!0),c.ios=!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),c.android=a.indexOf("Android")>-1||a.indexOf("Linux")>-1,c}(navigator.userAgent,navigator.platform),a.os.version=function(b){return a.os.android?b.match(/(Android);?[\s\/]+([\d.]+)?/)[2]:a.os.iPhone||a.os.iPodTouch?a.os.version=b.match(/(iPhone\sOS)\s([\d_]+)/)[2].replace(/_/g,"."):a.os.iPad?a.os.version=b.match(/(OS)\s([\d_]+)/i)[2].replace(/_/g,"."):null}(navigator.userAgent),a.platform=function(a){var b="true"==miniprogramDevice?!0:!1;return{wechat:a.indexOf("MicroMessenger")>-1,miniprogram:a.toLowerCase().indexOf("miniprogram")>-1||b,CMPShell:a.indexOf("seeyonCordova")>-1,DDShell:a.indexOf("DingTalk")>-1,browser:!0,wechatOrDD:a.indexOf("MicroMessenger")>-1||a.indexOf("DingTalk")>-1,wxwork:a.indexOf("wxwork")>-1,MiniQB:a.indexOf("MiniQB")>-1,M3W:a.indexOf("seeyonCordova")>-1&&/\/seeyon\/m3\/cmp/.test(cmpBASEPATH),third:-1==a.indexOf("MicroMessenger")&&-1==a.indexOf("seeyonCordova")&&-1==a.indexOf("DingTalk")&&-1==a.indexOf("wxwork")&&-1==a.indexOf("MiniQB")}}(navigator.userAgent),a.device={},a.device.info=function(){return a.platform.CMPShell&&cmpDevice?new CMPDevice(cmpDevice.available,cmpDevice.platform,cmpDevice.version,cmpDevice.uuid,cmpDevice.cordova,cmpDevice.model,cmpDevice.manufacturer,cmpDevice.enbrand,cmpDevice.cnbrand):(console.info("this platform device.info api"),{})},a.device.orientation=function(){var a;if(CMPSUPPORTORIENTATION)switch(b.orientation){case 90:case-90:a="landscape";break;default:a="portrait"}else if(b.matchMedia){var c=b.matchMedia("(orientation:portrait)");a=c.matches?"portrait":"landscape"}else a=b.innerHeight>b.innerWidth?"portrait":a="landscape";return a},a.system={},a.system.filePermission=function(){return"undefined"!=typeof cordova},a.platform.M3W&&c("http://cmp/v/js/cordova/__CMPSHELL_PLATFORM__/cordova.js",function(){c("http://cmp/v/js/cordova/cordova-plugins.js")}),a.platform.third&&c(cmpBASEPATH+"/extend/cmp-thirdPlatformPlugins.js");var p=/complete|loaded|interactive/;a.event={};var q=!1,r=function(a){if(!q){var b=new Date,c=b.getFullYear(),d=b.getMonth()+1,e=b.getUTCDate(),f=b.getUTCHours(),g=b.getUTCMinutes(),h=b.getUTCSeconds(),i=b.getUTCMilliseconds();d=10>d?"0"+d:d,e=10>e?"0"+e:e,f=10>f?"0"+f:f,g=10>g?"0"+g:g,h=10>h?"0"+h:h,console.log(c+"-"+d+"-"+e+"T"+f+":"+g+":"+h+"."+i+"Z"),q=!0}if(CMPREADYMARK=!0,"undefined"!=typeof CMPFASTAJAXCACHE&&CMPFASTAJAXCACHE.length>0){for(var j=[],k=0;k<CMPFASTAJAXCACHE.length;k++)j.push(CMPFASTAJAXCACHE[k]);for(var k=0;k<j.length;k++){var l=j[k].successMark,m=j[k].errorMark,n=j[k].xhr;if(l){var o=j[k].data,p=j[k].success;p&&"function"==typeof p&&p.call(this,o,"success",n)}else if(m){var r=j[k].type,s=j[k].errorMsg,t=j[k].error;t&&"function"==typeof t&&t.call(this,n,r,s)}CMPFASTAJAXCACHE.shift()}CMPFASTAJAXCACHE=void 0}a()},s=!1;a.ready=a.event.ready=function(c,d){if("function"==typeof d&&(c=d,d=null),a.platform.CMPShell)document.addEventListener("deviceready",function(){r(c)},!1);else if(a.platform.wechatOrDD)p.test(document.readyState)?r(c):document.addEventListener("DOMContentLoaded",function(){r(c)},!1);else{if(0==b.sessionStorage.length&&!document.cookie&&a.os.android&&a.platform.MiniQB)return void(s||(s=!0,setTimeout(function(){a.notification.alert("此页面不可操作，请点击浏览器返回按钮，返回到微信端",null,"提示","确定")},100)));p.test(document.readyState)?r(c):document.addEventListener("DOMContentLoaded",function(){r(c)},!1)}},a.event.trigger=function(a,c,d){var e=document.createEvent("HTMLEvents");e.initEvent(a,!0,!0),e.eventType="cmp-event",d&&(e.data=d),"string"==typeof c&&"document"==c&&(c=b.document),c.dispatchEvent(e)},a.event.click=function(a,c){function d(a){var c,d,e;return a.targetTouches.length>1?(k=!0,!0):(c=g(a.target),d=a.targetTouches[0],v&&(e=b.getSelection(),e.rangeCount&&!e.isCollapsed)?(a.preventDefault(),!0):(j=!0,l=a.timeStamp,m=d.pageX,n=d.pageY,p=c,0!=t&&q>l-t&&a.preventDefault(),!0))}function e(a){var b=p;return j?a.timeStamp-l>q?(u=!0,a.preventDefault(),k=!1,!0):0!=t&&a.timeStamp-t<r?(a.preventDefault(),k=!1,!0):a.timeStamp-l>s?(a.preventDefault(),k=!1,!0):a.changedTouches[0].pageX>m+o||a.changedTouches[0].pageX<m-o||a.changedTouches[0].pageY>n+o||a.changedTouches[0].pageY<n-o?(a.preventDefault(),k=!1,!0):(u=!1,t=a.timeStamp,j=!1,l=0,h(b)||(a.preventDefault(),k||c(a)),void(k=!1)):(a.preventDefault(),k=!1,!0)}function f(a){j=!1,p=null}function g(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a}function h(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(v&&"file"===a.type)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(a.className)}if("function"!=typeof c)throw"must defined call back function";var i="click";if(!1 in b)return a.addEventListener(i,c,!1),!0;var j=!1,k=!1,l=0,m=0,n=0,o=6,p=null,q=200,r=200,s=700,t=0,u=!1,v=/iP(ad|hone|od)/.test(navigator.userAgent);v&&/OS 4_\d(_\d)?/.test(navigator.userAgent);a.addEventListener("touchstart",d,!1),a.addEventListener("touchend",e,!1),a.addEventListener("touchcancel",f,!1)},a.event.touchHold=function(a,b,c){var d,e,f,g=c||700,h=6;a.addEventListener("touchstart",function(a){e=a.changedTouches[0].pageX,f=a.changedTouches[0].pageY,d=setTimeout(function(){b&&"function"==typeof b&&b(a)},g)},!1),a.addEventListener("touchmove",function(a){var b=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY;return Math.abs(b-e)>h||Math.abs(c-f)>h?(clearInterval(d),!0):void 0},!1),a.addEventListener("touchend",function(){return clearInterval(d),!0},!1)},a.event.listenClosePage=function(b){a.platform.wechatOrDD&&document.addEventListener("visibilitychange",function(){if("hidden"==document.visibilityState){var c=a.storage.get("cmpwechatdownloadfile",!0);if(c)return void a.storage["delete"]("cmpwechatdownloadfile",!0);"function"==typeof b&&0==a._slideAction&&b.call(this)}},!1)};var t,u=!1,v=[],w={},x=function(){var a=b.getComputedStyle(document.documentElement,null),c=a["font-family"],e="portrait, "+c,f="landscape, "+c,g="@media (orientation: portrait) { .orientation{font-family:"+e+";} } @media (orientation: landscape) {  .orientation{font-family:"+f+";}}";return w.font=c,d(g),document.documentElement.className="orientation"+document.documentElement.className,a["font-family"]===e?(w.init="portrait",w.current="portrait"):(w.init="landscape",w.current="landscape"),function(){return a["font-family"]===e?"portrait"!==w.current&&(w.current="portrait"):"landscape"!==w.current&&(w.current="landscape"),w}}();a.event.orientationChange=function(a){var c;if(v.push(a),!u)if(CMPSUPPORTORIENTATION)b.addEventListener("orientationchange",function(){switch(b.orientation){case 90:case-90:c="landscape";break;default:c="portrait"}e(c)},!1);else if(b.matchMedia){var d=b.matchMedia("(orientation:portrait)");d.addListener(function(a){c=d.matches?"portrait":"landscape",e(c)})}else b.addEventListener("resize",function(){t&&b.clearTimeout(t),t=b.setTimeout(function(){var a=x();e(a.current)},300)},!1)},a.storage={},a.storage.save=function(a,c,d){c+="",b[d?"sessionStorage":"localStorage"].setItem(a,c)},a.storage.get=function(a,c){return b[c?"sessionStorage":"localStorage"].getItem(a)},a.storage["delete"]=function(a,c){b[c?"sessionStorage":"localStorage"].removeItem(a)},a.storage.deleteAll=function(a){b[a?"sessionStorage":"localStorage"].clear()},a.storage.size=function(c){return a.toJSON(b[c?"sessionStorage":"localStorage"]||null).length},a.storage.removeCacheData=function(a,c){b[c?"sessionStorage":"localStorage"].removeItem(a)},a.storage.dom2json=function(a){var b={};return(a||[]).forEach(function(a){b[a]={};var c=document.getElementById(a),d=c.querySelectorAll("input"),e=c.querySelectorAll("textarea"),f=c.querySelectorAll("select"),g=Array.apply(null,d).concat(Array.apply(null,e)).concat(Array.apply(null,f));g.forEach(function(c){if(c.id){var d={};d.id=c.id,d.value=c.value;var e=c.attributes;Object.keys(e).forEach(function(a){var b=e[a].name,c=e[a].value;d[b]=c}),b[a][c.id]=d}})}),b},a.storage.json2dom=function(a){Object.keys(a).forEach(function(b){Object.keys(a[b]).forEach(function(c){var d=document.getElementById(b).querySelector("#"+c);if(d){var e=a[b][c];Object.keys(e).forEach(function(a){d.setAttribute(a,e[a])})}})})},localStorage.clear=function(){};var y={dbName:"cmpDB",foreverName:"cmpForeverDB",slqVersion:a.os.ios&&a.os.version.split(".")[0]>9?"1.0":"1",dbVersion:1,storeName:"cmpStore",indexedDB:b.indexedDB||b.webkitIndexedDB,db:{},store:null,action:!1,errorCode:{open:91001,save:91002,get:91003,"delete":91004,deleteAll:91005},createStore:function(a,b){var c,d;return y.indexedDB?(c=y.db[a].transaction(y.storeName,"readwrite"),d=c.objectStore(y.storeName)):d=y.db[a].transaction(function(a){a.executeSql("create table if not exists "+y.storeName+" (key text, value text null)",[],function(a,c){b&&b()})}),d},open:function(a,b){if(y.indexedDB)if(y.db[b]){var c=y.createStore(b);a(c)}else{var d=y.indexedDB.open(b,y.dbVersion);d.onerror=function(b){a({code:y.errorCode.open,error:b})},d.onsuccess=function(c){y.db[b]||(y.db[b]=c.target.result);var d=y.createStore(b);a(d)},d.onupgradeneeded=function(c){y.db[b]=c.target.result;var d=y.db[b].createObjectStore(y.storeName,{keyPath:"key"});a(d)}}else y.db[b]||(y.db[b]=openDatabase(b,y.slqVersion,"websqlDBl",31457280)),y.createStore(b,a)},close:function(a){var b=a?y.foreverName:y.dbName;y.db[b]&&(y.db[b].close(y.dbName),y.db[b]=null)},triggerCompleteAction:function(){y.action=!1,a.event.trigger("storageDBActionComplete",document)},save:function(b,c,d,e){y.action=!0;var f=e?y.foreverName:y.dbName;if(y.indexedDB){var g={key:b,value:c};y.open(function(a){var b=a.hasOwnProperty("error");if(b)y.close(e),d&&d(a),y.triggerCompleteAction();else{var c=a.put(g);c.onsuccess=function(a){y.close(e),d&&d({success:!0}),y.triggerCompleteAction()},c.onerror=function(a){y.close(e),d&&d({code:y.errorCode.save,error:a}),y.triggerCompleteAction()}}},f)}else c=a.toJSON(c),y._websqldelete(b,function(a){a.hasOwnProperty("error")?d(a):y.db[f].transaction(function(a){a.executeSql("insert into "+y.storeName+"(key,value) values(?,?) ",[b,c],function(a,b){d&&d({success:!0}),y.triggerCompleteAction()},function(a,b){d&&d({code:y.errorCode.save,error:b}),y.triggerCompleteAction()})})},f)},get:function(b,c,d){y.action=!0;var e=d?y.foreverName:y.dbName;y.indexedDB?y.open(function(a){var e=a.hasOwnProperty("error");if(e)y.close(d),c(a),y.triggerCompleteAction();else{var f=a.get(b);f.onsuccess=function(a){y.close(d);var b=a.target.result?a.target.result.value:void 0;c({data:b,success:!0}),y.triggerCompleteAction()},f.onerror=function(a){y.close(d),c({code:y.errorCode.get,error:a}),y.triggerCompleteAction()}}},e):y.open(function(){y.db[e].transaction(function(d){d.executeSql("select * from "+y.storeName+" where key=? ",[b],function(b,d){var e;if(d){for(var f=0;f<d.rows.length;f++)e=d.rows.item(f);if(e){e=e.value;try{e=a.parseJSON(e)}catch(g){}}}c({data:e,success:!0}),y.triggerCompleteAction()},function(a,b){c({code:y.errorCode.get,error:b}),y.triggerCompleteAction()})})},e)},"delete":function(a,b,c){y.action=!0;var d=c?y.foreverName:y.dbName;y.indexedDB?y.open(function(d){var e=d.hasOwnProperty("error");if(e)y.close(c),b&&b(d),y.triggerCompleteAction();else{var f=d.get(a);f.onsuccess=function(e){y.close(c);var g=e.target.result;g&&(f=d["delete"](a)),b&&b({success:!0}),y.triggerCompleteAction()},f.onerror=function(a){y.close(c),b&&b({code:y.errorCode["delete"],error:a}),y.triggerCompleteAction()}}},d):y._websqldelete(a,b,d)},deleteAll:function(a,b){y.action=!0;var c=b?y.foreverName:y.dbName;y.indexedDB?y.open(function(c){var d=c.hasOwnProperty("error");d?(y.close(b),a&&a(c)):(c.clear(),y.close(b),a&&a({success:!0})),y.triggerCompleteAction()},c):y.open(function(){y.db[c].transaction(function(b){b.executeSql("delete from "+y.storeName,[],function(b,c){a&&a({success:!0}),y.triggerCompleteAction()},function(b,c){a&&a({code:y.errorCode.deleteAll,error:c}),y.triggerCompleteAction()})})},c)},_websqldelete:function(a,b,c){y.open(function(){y.db[c].transaction(function(c){c.executeSql("delete from "+y.storeName+" where key = ? ",[a],function(a,c){b&&b({success:!0}),y.triggerCompleteAction()},function(a,c){b&&b({code:y.errorCode["delete"],error:c}),y.triggerCompleteAction()})})},c)}};a.storageDB=y,a.openWebView=function(b){var c={uid:"",url:"",isNew:!0,header:"",useNativebanner:!0,iOSStatusBarStyle:"",success:null,error:null};c=a.extend(c,b),cordova.exec(c.success,c.error,"WebViewPlugin","open",[{uid:c.uid,url:c.url,isNew:c.isNew,header:c.header,useNativebanner:c.useNativebanner,iOSStatusBarStyle:c.iOSStatusBarStyle}])},a.closeWebView=function(b){var c={callBack:"",data:[],closeAnimate:"1",success:null,error:null};a.extend(c,b),cordova.exec(c.success,c.error,"WebViewPlugin","close",[{callBack:c.callBack,data:c.data,closeAnimate:c.closeAnimate}])},a.setWebViewCloseBtn=function(b){a.platform.CMPShell&&cordova.exec(b.success,b.error,"WebViewPlugin","closeBtnStatus",[{status:b.status||0}])},a.navigation={setCloseButtonHidden:function(b){var c=a.extend({success:null,error:null,hidden:!0},b);a.platform.CMPShell&&cordova.exec(c.success,c.error,"CMPNavigationPlugin","setCloseButtonHidden",[{hidden:c.hidden}])},setBackButtonStyle:function(b){var c=a.extend({success:null,error:null,type:0},b);a.platform.CMPShell&&cordova.exec(c.success,c.error,"CMPNavigationPlugin","setBackButtonStyle",[{type:c.type}])},setCloseButtonDisplay:function(){return!1}},f.prototype.globalOptions={duration:400,iosdelay:60,androiddelay:70,winphonedelay:200,slowdownfactor:4,fixedPixelsTop:0,fixedPixelsBottom:0},f.prototype.executePendingTransition=function(a,b){cordova.exec(a,b,"NativePageTransitions","executePendingTransition",[])},f.prototype.cancelPendingTransition=function(a,b){cordova.exec(a,b,"NativePageTransitions","cancelPendingTransition",[])},f.prototype.slide=function(a,b,c){var d=a||{};this._validateHref(d.href,c)&&(d.direction=d.direction||"left",(void 0==d.duration||"null"==d.duration)&&(d.duration=this.globalOptions.duration),(void 0==d.androiddelay||"null"==d.androiddelay)&&(d.androiddelay=this.globalOptions.androiddelay),(void 0==d.iosdelay||"null"==d.iosdelay)&&(d.iosdelay=this.globalOptions.iosdelay),(void 0==d.winphonedelay||"null"==d.winphonedelay)&&(d.winphonedelay=this.globalOptions.winphonedelay),(void 0==d.fixedPixelsTop||"null"==d.fixedPixelsTop)&&(d.fixedPixelsTop=this.globalOptions.fixedPixelsTop),(void 0==d.fixedPixelsBottom||"null"==d.fixedPixelsBottom)&&(d.fixedPixelsBottom=this.globalOptions.fixedPixelsBottom),d.slowdownfactor=d.slowdownfactor||this.globalOptions.slowdownfactor,cordova.exec(b,c,"NativePageTransitions","slide",[d]))},f.prototype.drawer=function(a,b,c){var d=a||{};this._validateHref(d.href,c)&&(d.origin=d.origin||"left",d.action=d.action||"open",(void 0==d.duration||"null"==d.duration)&&(d.duration=this.globalOptions.duration),(void 0==d.androiddelay||"null"==d.androiddelay)&&(d.androiddelay=this.globalOptions.androiddelay),(void 0==d.iosdelay||"null"==d.iosdelay)&&(d.iosdelay=this.globalOptions.iosdelay),(void 0==d.winphonedelay||"null"==d.winphonedelay)&&(d.winphonedelay=this.globalOptions.winphonedelay),cordova.exec(b,c,"NativePageTransitions","drawer",[d]))},f.prototype.flip=function(a,b,c){var d=a||{};this._validateHref(d.href,c)&&(d.direction=d.direction||"right",(void 0==d.duration||"null"==d.duration)&&(d.duration=this.globalOptions.duration),
(void 0==d.androiddelay||"null"==d.androiddelay)&&(d.androiddelay=this.globalOptions.androiddelay),(void 0==d.iosdelay||"null"==d.iosdelay)&&(d.iosdelay=this.globalOptions.iosdelay),(void 0==d.winphonedelay||"null"==d.winphonedelay)&&(d.winphonedelay=this.globalOptions.winphonedelay),cordova.exec(b,c,"NativePageTransitions","flip",[d]))},f.prototype.curl=function(a,b,c){var d=a||{};this._validateHref(d.href,c)&&(d.direction=d.direction||"up",(void 0==d.duration||"null"==d.duration)&&(d.duration=this.globalOptions.duration),(void 0==d.iosdelay||"null"==d.iosdelay)&&(d.iosdelay=this.globalOptions.iosdelay),cordova.exec(b,c,"NativePageTransitions","curl",[d]))},f.prototype.fade=function(a,b,c){var d=a||{};this._validateHref(d.href,c)&&((void 0==d.duration||"null"==d.duration)&&(d.duration=this.globalOptions.duration),(void 0==d.androiddelay||"null"==d.androiddelay)&&(d.androiddelay=this.globalOptions.androiddelay),(void 0==d.iosdelay||"null"==d.iosdelay)&&(d.iosdelay=this.globalOptions.iosdelay),cordova.exec(b,c,"NativePageTransitions","fade",[d]))},f.prototype._validateHref=function(a,c){var d,e=b.location.href;if(d=-1==e.indexOf("www/")?e.substr(e.lastIndexOf("/")+1):e.substr(e.indexOf("www/")+4),a&&0==a.indexOf("#")&&navigator.userAgent.indexOf("Android")>-1)if(d.indexOf("#")>-1){var f=d.substr(0,d.indexOf("#"));if(-1==e.indexOf("www/")){var g=e.substr(0,e.lastIndexOf("/")+1);b.location.href=g+f+a}else b.location.href="/android_asset/www/"+f+a}else e.indexOf("#")>-1&&(e=e.substring(0,e.indexOf("#"))),b.location=e+=a;return d==a?(c?c("The passed href is the same as the current"):console.log("The passed href is the same as the current"),!1):!0},f.install=function(){return b.plugins||(b.plugins={}),b.plugins.nativepagetransitions=new f,b.plugins.nativepagetransitions};var z=new f;a._slideAction=!1;var A=function(c,d,e){if(a.platform.CMPShell&&z){if(!_checkCordova())return;if(a.overrideBackbutton(),a.platform.M3W)a._slideAction=!0,b.location.href=d;else{var f="undefined"==typeof e?250:1==e?250:0,g={direction:c,duration:f,slowdownfactor:1,href:d,fixedPixelsTop:0,fixedPixelsBottom:0};z.slide(g,function(){console.log("------------------- slide transition finished")},function(a){alert("error: "+a)})}}else a._slideAction=!0,b.location.href=d},B=function(b,c,d,e,f){var h=g(),i={};c&&(i.data=c),d&&(i.openWebviewMark=d),i.url=b,f&&(i.cmphistoryuuid=f,i.nextUrl=e),h.push(i),a.storage.save("cmp-href-history",a.toJSON(h),!0)},C=function(){try{return b.location.href.match(/(cmphistoryuuid=)([\d]+)/)[2]}catch(a){}return null},D=function(b){var c,d=g();return b&&!isNaN(b)&&b>1?(b=Math.abs(b),b<=d.length?(b-=1,d.splice(-b,d.length),c=d.pop()):console.log("大哥，你在瞎跳所，next几个，你回来要超出你跳的个数")):c=d.pop(),a.storage.save("cmp-href-history",a.toJSON(d),!0),c},E=function(){var a=g();return a[a.length-1]},F=/https*:/i,G=/\/\/*[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?:{0,1}/,H=/\:([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-5]{2}[0-3][0-5])$/,I=/localhost:{0,1}/i,J=function(c){if(a.platform.CMPShell)return!0;var d=b.location,e=d.protocol,f=d.hostname,g=d.port;if(!F.test(c)&&!H.test(c)||I.test(c))return!0;if(F.test(c)){var h=c.match(F)[0];if(e!=h)return!1}if(G.test(c)){var i=c.match(G)[0],j=-1!=i.indexOf(":")?i.indexOf(":"):i.length;if(i=i.substring(i.lastIndexOf("/")+1,j),f!=i)return!1}if(H.test(c)){var k=c.match(H)[1];if(g!=k)return!1}return!0},K=function(c){var d=a.storage.get("cmp-href-history"),e=a.storage.get("backPageURL",!0),f=a.storage.get("pageURL",!0);if(d){a.storage["delete"]("cmp-href-history");var g=b.location.href;try{d=a.parseJSON(d).data}catch(h){}c||B(g,d,"openWebviewMark")}if(e){var i=a.storage.get(e+"_paramKey",!0);i&&(a.storage["delete"]("backPageURL",!0),a.storage["delete"](e+"_paramKey",!0))}f&&(a.storage["delete"]("pageURL",!0),a.storage["delete"](f+"_paramKey",!0))};a.href={},a.href.history={},a.href.DIRECTION_FOR_LEFT="left",a.href.DIRECTION_FOR_RIGHT="right";var L=a.historyParamsCache||{};a.href.go=function(c,d,e){a.dialog.loading(!1),a.href.fouceAreaBlur();var f=a.storage.get("cmpwechatdownloadfile",!0);if(!f||(a.storage["delete"]("cmpwechatdownloadfile",!0),!O)){K();var g=b.location.href;if(d){a.storage.save("pageURL",g,!0);try{d=cmp.toJSON(d)}catch(h){}a.storage.save(g+"_paramKey",d,!0)}var i,j,k;if("undefined"!=typeof e&&("object"==typeof i?(i=a.extend({animated:!0,direction:a.href.DIRECTION_FOR_LEFT},e),j=i.animated,k=i._options):(j=e,k=a.href.DIRECTION_FOR_LEFT)),j="undefined"==typeof j?!0:1==j,k="undefined"==typeof k?a.href.DIRECTION_FOR_LEFT:k,y.action){var l=function(){document.removeEventListener("storageDBActionComplete",l,!1),setTimeout(function(){A(k,c,j)},300)};document.addEventListener("storageDBActionComplete",l,!1)}else A(k,c,j)}},a.href.back=function(b,c){a.dialog.loading(!1),a.href.fouceAreaBlur();var d=a.storage.get("cmpwechatdownloadfile",!0);if(!d||(a.storage["delete"]("cmpwechatdownloadfile",!0),!O)){a.platform.CMPShell&&a.backbutton(!1),K();var e,f,g,h=D(b);if(h&&(e=h.url,f=h.openWebviewMark,g=h.weixinmessage),!e||f||g)return void a.href.closePage();var i;if(c)if("string"==typeof c)i=c;else if("object"==typeof c){i=c.queryParams;var j=c.data;if(j){try{j=a.toJSON(j)}catch(k){}a.storage.save(e+"_paramKey",j,!0),a.storage.save("backPageURL",e,!0)}}if(i){var l=-1!=e.indexOf("?")?"&":"?";if(-1!=e.indexOf("#")){var m=e.split("#")[0],n=e.split("#")[1];e=m+l+i+"#"+n}else e+=l+i}if(y.action){var o=function(){document.removeEventListener("storageDBActionComplete",o,!1),setTimeout(function(){A(a.href.DIRECTION_FOR_RIGHT,e)},100)};document.addEventListener("storageDBActionComplete",o,!1)}else A(a.href.DIRECTION_FOR_RIGHT,e)}},a.href.backAbnormal=function(){return a.storage.get("cmpwechatdownloadfile",!0)?(a.storage["delete"]("cmpwechatdownloadfile",!0),!0):!1},a.href.next=function(c,d,e){a.dialog.loading(!1),a.href.fouceAreaBlur(),K();try{var f;if(a.platform.CMPShell&&(f="object"==typeof e&&e.openWebViewCatch?e.openWebViewCatch:a.href.openWebViewCatch()),1==f){var g=/http(s)?:\/\//;g.test(c)||(c=document.location.origin+c);var h={};d&&(h.data=d),a.storage.save("cmp-href-history",a.toJSON(h));var i="object"==typeof e&&"undefined"!=typeof e.nativeBanner?e.nativeBanner:!0,e={url:c,useNativebanner:i,header:"",success:function(){},error:function(){}};return void a.openWebView(e)}2==f&&(e={},e.animated=!1)}catch(j){}var k,l,m,n=b.location.href;"undefined"!=typeof e&&("object"==typeof e?(k=a.extend({animated:!0,direction:a.href.DIRECTION_FOR_LEFT},e),l=k.animated,m=k.direction):(l=e,m=a.href.DIRECTION_FOR_LEFT)),l="undefined"==typeof l?!0:1==l,m="undefined"==typeof m?a.href.DIRECTION_FOR_LEFT:m;try{var o=a.cache.saveMark,p=a.cache["list_cache_data_"+o],q=a.listView(p.containerID),r={scrollX:q.x,scrollY:q.y,data:p.data,finished:p.finished,crumbs:p.crumbs,pageNo:p.pageNo,total:p.total,pagingNo:p.pagingNo,widgetShow:q.widgetShow,additionalPartsShow:q.additionalPartsShow};a.storage.save(o,a.toJSON(r),!0)}catch(j){}var s=e&&e.notuuid?"":(new Date).getTime()+"",t="cmphistoryuuid="+s,u=-1!=c.indexOf("?")?"&":"?";if(/\?#/.test(c)&&(u="?"),s)if(/\#\//.test(c)){var v=c.substring(0,c.indexOf("#/")),w=c.substring(c.indexOf("#/")+1);c=v+u+t+"#"+w}else c+=u+t;if(J(c)&&B(n,d,null,c,s),y.action){var x=function(){document.removeEventListener("storageDBActionComplete",x,!1),setTimeout(function(){A(m,c,l)},100)};document.addEventListener("storageDBActionComplete",x,!1)}else A(m,c,l)},a.href.goParams=function(b,c){a.dialog.loading(!1),a.href.fouceAreaBlur();var d=a.storage.get("cmpwechatdownloadfile",!0);if(!d||(a.storage["delete"]("cmpwechatdownloadfile",!0),!O)){if(K("goParams"),c){try{c=cmp.toJSON(c)}catch(e){}a.storage.save("cmp-href-goParams",c,!0)}if(y.action){var f=function(){document.removeEventListener("storageDBActionComplete",f,!1),setTimeout(function(){A(a.href.DIRECTION_FOR_LEFT,b,!1)},300)};document.addEventListener("storageDBActionComplete",f,!1)}else A(a.href.DIRECTION_FOR_LEFT,b,!1)}},a.href.open=function(b,c){var d=/http(s)?:\/\//;d.test(b)||(b=document.location.origin+b);var e={url:b,useNativebanner:!0,header:c||"",success:function(a){console.log("@success="+a)},error:function(a){console.log("@error="+a)}};a.openWebView(e)},a.href.close=function(){a.closeWebView({})},a.href.closePage=function(){if(h(),a.platform.wechat)if(a.platform.miniprogram){var b=document.createElement("script");b.onload=function(){wx.miniProgram.reLaunch({url:"/pages/index/index?backFlag=1"})},b.src="https://res.wx.qq.com/open/js/jweixin-1.3.2.js",document.head.appendChild(b)}else try{"undefined"!=typeof WeixinJSBridge?WeixinJSBridge.invoke("closeWindow",{},function(a){}):document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.invoke("closeWindow",{},function(a){})})}catch(c){}else if(a.platform.CMPShell)a.closeWebView({});else if(a.platform.DDShell){var b=document.createElement("script");b.onload=function(){dd.config({agentId:a.storage.get("agentId"),corpId:a.storage.get("appid"),timeStamp:a.storage.get("timeStamp"),nonceStr:a.storage.get("nonceStr"),signature:a.storage.get("signature")}),dd.ready(),dd.biz.navigation.close()},b.src="https://g.alicdn.com/dingding/open-develop/1.0.0/dingtalk.js",document.head.appendChild(b)}else a.platform.third&&a.event.trigger("cmpThirdPlatformPlugins",document,{plugin:"closeWebView"})},a.href.getParam=function(b){var c,d;if(0==Object.keys(L).length){var e=a.storage.get("pageURL",!0),f=a.storage.get("cmp-href-history"),h=a.storage.get("cmp-href-goParams",!0),i=g();if(f){d=a.storage.get("cmp-href-history");try{d=a.parseJSON(d).data}catch(j){}K()}else if(e){d=a.storage.get(e+"_paramKey",!0);try{d=a.parseJSON(d)}catch(j){}a.storage["delete"]("pageURL",!0),a.storage["delete"](e+"_paramKey",!0)}else if(!h||i&&i.length)c=E(),c&&(L.url=c.url,d=c.data);else{d=h;try{d=a.parseJSON(h)}catch(j){}}if(!d)return void 0;L.data=d;try{return b?d[b]:d}catch(j){return d}}else{var d=L.data;try{return b?d[b]:d}catch(j){return d}}},a.href.getBackParam=function(b){var c=a.storage.get("backPageURL",!0),d=a.storage.get(c+"_paramKey",!0);if(!d)return void 0;try{return d=a.parseJSON(d),b?d[b]:d}catch(e){return d}},a.href.fouceAreaBlur=function(){var a=document.querySelector(":focus");a&&a.blur()},a.href.popHistory=function(a){D(a)},a.href.openWebViewCatch=function(){return null},a.append=function(a,b){if(a instanceof HTMLElement){var c=i(b),d=0,e=c.length;if(e>0)for(;e>d;d++)a.appendChild(c[d])}},a.before=function(a,b){function c(a,b){b.parentNode.insertBefore(a,b)}if(a instanceof HTMLElement){b=i(b);var d=b.length;if(d>0)for(var e=d-1;e>=0;e--)c(b[e],a),a=b[e]}},a.after=function(a,b){function c(a,b){var c=b.nextElementSibling;b.parentNode.insertBefore(a,c)}if(a instanceof HTMLElement){b=i(b);var d=b.length;if(d>0)for(var e=0;d>e;e++)c(b[e],a),a=b[e]}},a.getTop=function(a){for(var b=a.offsetTop,c=a.offsetParent;null!==c;)b+=c.offsetTop,c=c.offsetParent;return b},a.getLeft=function(a){for(var b=a.offsetLeft,c=a.offsetParent;null!==c;)b+=c.offsetLeft,c=c.offsetParent;return b},a.parents=function(a,b){for(var c=[],d=a.parentNode;"undefined"!=typeof d&&"BODY"!=d.tagName;)if(b)if(b.startsWith(".")){if(d.classList.contains(b.substring(1))){c.push(d);break}d=d.parentNode}else{if("undefined"!=typeof d.getAttribute(b)&&null!=d.getAttribute(b)){c.push(d);break}d=d.parentNode}else c.push(d);return c},j.prototype={put:function(a,b){null!=a&&""!=a&&(this.container[a]=b)},get:function(a){return this.container[a]},remove:function(a){delete this.container[a]},clear:function(){delete this.container,this.container={}},keys:function(){return Object.keys(this.container)},values:function(){var a=[];for(var b in this.container)a.push(this.container[b]);return a},containsKey:function(a){return this.container[a]?!0:!1},containsValue:function(a){for(var b in this.container)if(this.container[b]===a)return!0;return!1},size:function(){return this.keys().length},isEmpty:function(){return 0==this.keys().length}},j.build=function(){return new j},a.map=j;var M={},N="CMP_STACK_STORAGE_KEY"+a.buildUUID(),O=!1;a.backbuttonBinded=O;var P=[],Q=0,R=function(){this.stack=[]};R.prototype._push=function(a){this.stack.unshift(a)},R.prototype._pop=function(){var a=null;return this.stack.length>0&&(a=this.stack.shift()),a};var S,T=!0;a.backbutton=function(){arguments.length>0?"boolean"==typeof arguments[0]&&(T=0==arguments[0]?!1:!0):T=!0,S=arguments.length>1&&"function"==typeof arguments[1]?arguments[1]:void 0,O?T||(b.history.pushState({backbutton:"backbutton_"+Q},"backbutton",""),Q++):(a.platform.CMPShell?document.addEventListener("backbutton",function(){return T?void U():void(S&&"function"==typeof S&&S.call(this))},!1):setTimeout(function(){b.addEventListener("popstate",function(){(a.os.version<8||a.os.version<8.5)&&"1"==Q&&a.os.ios?(b.history.pushState({backbutton:"backbutton_"+Q},"backbutton",""),Q++):T?U():(b.history.pushState({backbutton:"backbutton_"+Q},"backbutton",""),Q++)},!1),T||b.history.pushState({backbutton:"backbutton_"+Q},"backbutton","")},200),O=!0)},a.backbutton.push=function(c){M[N]||(M[N]=new R),a.platform.wechatOrDD&&(P.unshift(Q),2>=Q?b.history.pushState({backbutton:"backbutton_"+Q},"backbutton",""):b.history.replaceState({backbutton:"backbutton_"+Q},"backbutton",""),Q++),M[N]._push(c)},a.backbutton.pop=function(){M[N]&&(Q--,M[N]._pop(),P.length>1?(P.shift(),a.platform.wechatOrDD&&b.history.replaceState({backbutton:"backbutton_"+Q},"backbutton","")):a.platform.wechatOrDD&&b.history.replaceState(null,"backbutton",""))},a.backbutton.trigger=function(){a.platform.CMPShell?a.event.trigger("backbutton",document):a.event.trigger("popstate",b)};var U=function(){if(M[N]&&M[N].stack&&M[N].stack.length>0){var a=M[N].stack[0];a&&"function"==typeof a?a():M[N]._pop()}};a.overrideBackbutton=function(){var b=a.os.android?"CoreAndroid":"WebViewPlugin";cordova.exec(function(){},function(){},b,"overrideBackbutton",[!1])},a.serverIp=function(){if("Win32"==navigator.platform&&pc_chrome_crossdomain_debug_a8_ip)return pc_chrome_crossdomain_debug_a8_ip;var b=document.location,c=b.origin;return a.platform.CMPShell&&-1!=c.indexOf("file:/")&&(c=a.storage.get("online-debug-url")),c}(),a.origin=function(){if("Win32"==navigator.platform&&pc_chrome_crossdomain_debug_a8_ip)return pc_chrome_crossdomain_debug_a8_ip+"/seeyon";var b=document.location,c=b.origin,d=b.href,e=d.replace(c+"/","");if(e=e.substring(0,e.indexOf("/")),!a.platform.CMPShell)return c+"/"+e;if(-1!=c.indexOf("file:/")){var f=a.storage.get("online-debug-url");return f+"/seeyon"}return-1!=e.indexOf("mobile_portal")?c+"/"+e+"/seeyon":a.platform.M3W?c+"/"+e:void 0}(),a.seeyonbasepath=function(){return a.origin}(),a.token=function(){var b="";return a.storage.get("CMP_V5_TOKEN")&&(b=a.storage.get("CMP_V5_TOKEN")),b}(),a.member=function(){var b={name:"pcTestName"};try{if(a.platform.CMPShell){var c=a.serverIp.substring(0,a.serverIp.lastIndexOf("/")),d=a.storage.get("userId_"+c),e=a.storage.get("companyId");b=a.storage.get("userId_"+d+"server_"+c+"companyId_"+e)}else a.platform.wechatOrDD&&(b=a.storage.get("currentMember"));b=a.parseJSON(b)}catch(f){}return b}(),a.headerHide=function(){var a=document.querySelector("header.cmp-bar-nav"),b=document.querySelector(".cmp-content"),c=document.querySelector(".cmp-segmented-control"),d=document.querySelector(".cmp-control-content"),e=CMPFULLSREENHEIGHT;a.style.display="none",b.style.top=0,c?d.style.height=e-c.innerHeight+"px":d.style.height=e+"px"},a.RefreshHeader=function(){};var V=document.querySelector("title");V&&(V.addEventListener("DOMNodeInserted",n),V.addEventListener("DOMCharacterDataModified",n)),a.event.orientationChange(function(){CMPFULLSREENHEIGHT=b.innerHeight,sessionStorage.setItem("CMPFULLSREENHEIGHT",CMPFULLSREENHEIGHT)}),a.ready(function(){a.navigation.setCloseButtonDisplay()||a.navigation.setCloseButtonHidden();var b=/(iphonex)/i,c="",d="";a.os.ios?(c=a.platform.wechatOrDD?"cmp-dd":b.test(navigator.userAgent)?"cmp-ios-x":"cmp-ios-c",a.os.iPhone?d="cmp-iphone":a.os.iPad?d="cmp-ipad":a.os.iPodTouch&&(d="cmp-ipodTouch")):(c="cmp-dd",d="cmp-android"),document.body.classList.add(c),document.body.classList.add(d);var e,f,g,h=!1,i=0,j=a.os.ios&&null!=a.os.version.match("7")?!0:!1;document.addEventListener("touchstart",function(a){e=document.querySelector("input:focus"),f=document.querySelector("textarea:focus"),i=a.timeStamp;var b=a.target.tagName.toLocaleLowerCase(),c=a.target.classList;if(!j)if("input"!=b&&"textarea"!=b||c.contains("cmp-force-blur"))h=!1;else{if(a.target==e||a.target==f)return void(h=!0);if(c.contains("cmp-not-trans"))return void(h=!0);h=!1}},!1),document.addEventListener("touchend",function(a){var b=a.timeStamp,c=a.target.tagName.toLocaleLowerCase();300>b-i&&!h&&"input"!=c&&"textarea"!=c&&(e&&e.blur(),f&&f.blur(),g&&(g=null)),g=null},!1),document.addEventListener("touchcancel",function(){g=null}),a.RefreshHeader();var n=document.querySelectorAll(".cmp-switch");n.length&&l(n),a.platform.CMPShell&&a.os.android&&a.overrideBackbutton(),k(),cmp.platform.CMPShell&&cmp20Higher&&m()});var W,X=document.createElement("div");X.classList.add("cmp-antiriotLayer"),a.antiriotLayer=function(a){a?"string"==typeof a?(a=document.querySelector(a),a&&a.parentNode&&(a=a.parentNode)):"object"==typeof a&&(a=a.parentNode||a):a=document.body,a.querySelector(".cmp-antiriotLayer")||(a.appendChild(X),W=setTimeout(function(){X.remove(),clearInterval(W)},290))},a.setCookie=function(b){var c=a.extend({url:null,jsession:null,success:null,error:null},b);cordova.exec(c.success,c.error,"CMPCookiePlugin","setCookie",[{url:c.url,jsession:c.jsession}])},a.mark={},a.mark.mark1004=function(){a.storage.save("m1004","true",!0)},a.mark.get1004=function(){var b=!1,c=a.storage.get("m1004",!0);return c&&null!=c&&(b=!0,a.storage["delete"]("m1004",!0)),b};var Y={};a.funProxy={},a.funProxy.setter=function(b,c){Y[b]||(Y[b]=[]),a.isArray(c)?Y[b]=Y[b].concat(c):Y[b].push(c)},a.funProxy.getter=function(a){function b(a){var e=a.data;if(j>0){if(1==e){j--;var l=k-(j+1);try{i[l].call(this,f,c,d)}catch(a){alert("funProxy has a error."+a.message),console.log(a.stack),h.call(this,a)}}}else document.removeEventListener("callNextProxyFun",b,!1),g.call(this)}function c(){cmp.event.trigger("callNextProxyFun",document,!0)}function d(){document.removeEventListener("callNextProxyFun",b,!1),h.call(this)}var e=a.funName,f=a.data,g=a.success,h=a.error,i=Y[e];if(i){var j=i.length,k=i.length;document.removeEventListener("callNextProxyFun",b,!1),document.addEventListener("callNextProxyFun",b,!1);try{j--,i[0].call(this,f,c,d)}catch(l){alert("funProxy has a error."+l.message),console.log(l.stack),h.call(this,l)}}else g()}}(cmp,window),Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},String.prototype.getBytesLength=function(){var a=this.match(/[^\x00-\xff]/gi);return this.length+(null==a?0:a.length)},String.prototype.getLimitLength=function(a,b){if(!a||0>a)return this;var c=this.getBytesLength();if(a>=c)return this;b=null==b?"..":b,a-=b.length;for(var d=0,e="",f=0;f<this.length;f++)if(d++,e+=this.charAt(f),d>=a)return e+b;return this},String.prototype.escapeHTML=function(a){try{return escapeStringToHTML(this,a)}catch(b){}return this},String.prototype.escapeUrl=function(a){try{return escapeStringToHTML(this.replace(/\n/g,""),a)}catch(b){}return this},String.prototype.escapeJS=function(a){try{return _escapeStringToJavascript(this,a)}catch(b){console.log(b)}return this};var escapeScriptTag=function(a){try{a=a.replace(/<script[\s]*>/gi,"&lt;script&gt;"),a=a.replace(/<\/script[\s]*>/gi,"&lt;/script&gt;")}catch(b){}return a};String.prototype.startsWith=function(a){return 0==this.indexOf(a)},String.prototype.endsWith=function(a){var b=this.indexOf(a);return b>-1&&b==this.length-a.length},Array.prototype.inArray=function(a){for(var b=0,c=this.length;c>b;b++)if(_equalObj(this[b],a))return!0;return!1},Array.prototype.delItem=function(a){for(var b=-1,c=0;c<this.length;c++)if(_equalObj(this[c],a)){b=c;break}b>-1&&this.splice(b,1)},Array.prototype.sortByKey=function(a){var b=0,c=this.length-1,d=this,e=function(b,c){if(b!=c){for(var f=d[b][a],g=d[b],h=b,i=c;c>b;)if(d[c][a]>=f)c--;else for(d[b]=d[c];c>++b;)if(d[b][a]>f){d[c]=d[b];break}if(h==b)return void e(++b,i);d[b]=g,e(h,b),e(c,i)}};return e(b,c),d};var cmpCommonPageBackBtn=document.querySelector(".cmpCommonPageBackBtn"),cmpPageErrorMsg;cmpCommonPageBackBtn&&cmpCommonPageBackBtn.addEventListener("pageError2BackPage",function(){cmp.errorHandler({code:9001})},!1);var cordovaNotFindRegex=/cordova/i,WeixinJSBridgeNotFindRegex=/weixinjsbridge/i,$sNotFindRegex=/\$s/i,x5WeixinGetClickMapInfoStackRegex=/window.xweb_register_fullscreen_detect_function/i,weixin8LineTestErrorRegex=/uncaught typeerror：cannot read property '|"test'|" of underfined/i,jssdkNotFind=!1;window.onerror=function(a,b,c,d,e){if(!(cmp.platform.DDShell||(cmpPageErrorMsg="发生错误的信息："+a+"、发生错误的文件："+b+"、发生错误的行数："+c+"、错误堆栈如下："+e.stack,console.log("页面发生错误了，如果没有进行弹框提示，说明可以点击绑定的回退按钮进行回退！"+cmpPageErrorMsg),console.log(e),cordovaNotFindRegex.test(a)||WeixinJSBridgeNotFindRegex.test(a)||x5WeixinGetClickMapInfoStackRegex.test(e.stack)||weixin8LineTestErrorRegex.test(a)&&8==c))){document.getElementById("__jsdktag");if($sNotFindRegex.test(a))return void(jssdkNotFind||"undefined"!=typeof SeeyonApi||(cmp.errorHandler({code:9002}),jssdkNotFind=!0));try{pageErrorCatch(a,b,c,e)}catch(f){cmpCommonPageBackBtn&&cmp.event.trigger("pageError2BackPage",cmpCommonPageBackBtn)}finally{return!0}}},function(a){a.pasteboard={},a.pasteboard.setString=function(b){if(!a.platform.CMPShell)return void console.log("copeCmd这个接口只能在cmp壳内使用");var c={value:b.value||"",success:b.success||function(a){},error:b.error||function(a){}};cordova.exec(c.success,c.error,"CMPPasteboardPlugin","setString",[{value:c.value}])}}(cmp),function(a){a.sdk={exec:function(a,b,c,d,e){cordova.exec(d||function(){},e||function(){},a,b,[c])},loadAppInBrowse:function(a,b,c){this.exec("CMPAppManagerPlugin","loadInExplorer",a,b,c)},notifyWebviewListener:function(a,b){this.exec("CMPWebviewListenerFirePlugin","fire",{type:a,data:b})},openWpsByJinge:function(a,b,c){this.exec("AttachmentPlugin","openWithWps",a,b,c)}}}(cmp),function(a){function b(){}b.prototype={notify:function(b,c){a.sdk.notifyWebviewListener(b,c)}},a.router=new b}(cmp),function(a){function b(b){var c=b.error;b.error=function(b){var d,e;if(b)if("object"==typeof b){if(d=b.code,e=b.message,!d){var f=b.responseText;if(f)try{b=a.parseJSON(f),d=b.code}catch(g){}}}else try{b=a.parseJSON(b),d=b.code,e=b.message}catch(g){}"undefined"!=typeof d&&"undefined"!=typeof e&&(b={code:d,message:e}),a.ajaxFilter&&"function"==typeof a.ajaxFilter?a.ajaxFilter(b):c&&"function"==typeof c?c(b):a.errorHandler(b)}}a.ajaxFilter;var c=function(b,d,e,f){var g,h=a.isArray(d),i=a.isPlainObject(d);a.each(d,function(d,j){g=a.type(j),f&&(d=e?f:f+"["+(i||"object"===g||"array"===g?d:"")+"]"),!f&&h?b.add(j.name,j.value):"array"===g||!e&&"object"===g?c(b,j,e,d):b.add(d,j)})};a.param=function(a,b){var d=[];return d.add=function(a,b){this.push(encodeURIComponent(a)+"="+encodeURIComponent(b))},c(d,a,b),d.join("&").replace(/%20/g,"+")};var d=function(b,c){var d=/^\s*_/;try{"script"===b?(1,eval)(c):"xml"===b||"json"===b&&(c=d.test(c)?null:a.parseJSON(c))}catch(e){}return c};a.webRequest={},a.webRequest.get=function(b){var c={url:"",headers:"",dataType:"json",timeout:6e4,offlineCacheKey:null,success:null,error:null};c=a.extend(c,b),c.url=encodeURI(encodeURI(c.url)),cordova.exec(function(a){a=d(c.dataType,a),c.success&&"function"==typeof c.success&&c.success(a)},function e(e){c.error&&"function"==typeof c.error&&c.error(e)},"RequestPlugin","get",[{url:c.url,headers:c.headers,dataType:c.dataType,timeout:c.timeout,offlineCacheKey:c.offlineCacheKey}])},a.webRequest.post=function(b){var c={url:"",data:"",headers:"",dataType:"json",timeout:6e4,offlineCacheKey:null,success:null,error:null};c=a.extend(c,b),c.url=encodeURIComponent(encodeURIComponent(c.url)),c.data=encodeURIComponent(encodeURIComponent(c.data)),cordova.exec(function(a){a=d(c.dataType,a),c.success&&"function"==typeof c.success&&c.success(a)},function e(e){c.error&&"function"==typeof c.error&&c.error(e)},"RequestPlugin","post",[{url:c.url,parameter:c.data,headers:c.headers,dataType:c.dataType,timeout:c.timeout,offlineCacheKey:c.offlineCacheKey}])};var e=/GET|get/i,f=/POST|post/i,g=function(c,d){printAjaxSwitch&&console.log(c);var g=a.extend({url:c,type:"GET",data:"",headers:"",dataType:"json",repeat:!1,offlineCacheKey:null,success:null,error:null},d);("undefined"==typeof g.headers||""==g.headers||null==g.headers)&&(g.headers={Accept:"application/json; charset=UTF-8","Accept-Language":a.language,"Content-type":"application/json;charset=UTF-8"}),b(g),e.test(g.type)?a.webRequest.get(g):f.test(g.type)&&a.webRequest.post(g)};a.ajax=function(b,c,d){if(("object"==typeof b&&"undefined"==typeof b.isCache||"string"==typeof b)&&(d=c,c=b,b=void 0),"object"==typeof c&&(d=c,c=void 0),d.fastAjax)a.fastAjax(b,c,d);else{var e=c||d.url;a.connection.getNetworkStatus({success:function(b){if("connect"===b.serverStatus)g(e,d);else{var c={};c.code="-1001","none"===b.networkType&&(c.code="-1009"),c.message=fI18nData.errorHandlerI18n[a.language].networkLose,d.error.call(c,c)}},error:function(){g(e,d)}})}}}(cmp);var printAjaxSwitch=!1;!function(a){"undefined"==typeof a.i18n?a.i18n=function(){}:a.i18n.load(cmpBASEPATH+"/i18n/","cmp-notification",null,cmpBuildversion),a.notification={};var b=function(){return[a.i18n("cmp.notification.cancel"),a.i18n("cmp.notification.ok")]},c=function(){return[a.i18n("cmp.notification.ok"),a.i18n("cmp.notification.giveUp"),a.i18n("cmp.notification.cancel")]},d=['<span class="cmp-icon see-icon-succeed Prompt_icon succeed"></span>','<span class="cmp-icon see-icon-error Prompt_icon Failure"></span>','<span class="cmp-icon see-icon-warning Prompt_icon Exception"></span>','<span class="cmp-icon see-icon-warning Prompt_icon Warning"></span>',""],e='    <div class="window_alert_content <%=this.type %>">        <div class="container">            <% if(this.title){ %>                <h5 class="window_alert_title"><%=this.title %></h5>            <% } %>           <% if(!this.btnsInfo){ %>            <div class="window_alert_cont">                <% if(this.type == "textarea"){ %>                    <textarea type="<%=this.type %>" placeholder="<%=this.placeholder %>" value="<%=this.defaultVal %>"></textarea>                <% }else { %>                    <% if(this.input){ %>                        <input type="<%=this.type %>" placeholder="<%=this.placeholder %>" value="<%=this.defaultVal %>">                        <span class="cmp-icon see-icon-close-circle-fill input_clear" style="display:none;"></span>                    <% } else {%>                        <%=this.icon %>                        <span class="text"><%=this.message %></span>                    <% } %>                <% } %>            </div>            <% } %>            <% if(this.input &&(this.type == "password"||this.type == "text") ){ %> <div class="error cmp-hidden"></div> <% } %>                <% if(this.btnsthree){ %>                    <% if(this.btnsthree.length>=3){ %>                        <% for(var j=0,lens=this.btnsthree.length;j<lens;j++) { %>                            <div class="window_alert_sub cmp-before-line">                                <button class="cmp-btn cmp-btn-primary cmp_dialog_btn"><%=this.btnsthree[j] %></button>                             </div>                        <% } %>                    <% } %>                <% }else if(this.btnsInfo){ %>                    <% for(var j=0;j<this.btnsInfo.length;j++){ %>                          <div class="window_alert_sub cmp-before-line">                                <button class="cmp-btn cmp-btn-primary cmp_dialog_btn"><%=this.btnsInfo[j] %></button>                          </div>                    <% } %>                <% } else {%>                    <div class="window_alert_sub cmp-before-line">                        <% for(var i = 0,len = this.btns.length;i < len; i++){ %>                            <%  if( i == 1 ){   %>                                <button class="cmp-btn cmp-btn-primary cmp_dialog_btn cmp-before-left-line"><%=this.btns[i] %></button>                            <% } else { %>                                <button class="cmp-btn cmp-btn-primary cmp_dialog_btn"><%=this.btns[i] %></button>                             <% } %>                        <% } %>                    </div>                </div>            </div>    <% } %>',f=[],g=!1,h=function(b){var c=a.tpl(e,b),d=document.createElement("div");d.className="window_alert cmp_bomb_box";var h=document.querySelectorAll(".window_alert");if(h&&h.length){var i=h[h.length-1];i.classList.add("cmp-hidden")}d.innerHTML=c;var j=d.querySelectorAll(".cmp_dialog_btn");return 1==j.length&&j[0].classList.add("width_85"),a.backbutton.push(a.notification.close),g||(document.addEventListener("backbutton2NotificationCloseCallback",function(){if(f.length>0){var a=f.pop();"function"==typeof a&&a.call(this)}},!1),g=!0),document.body.appendChild(d),d},i=function(a){var b=document.querySelector(".cmp_bomb_box_backdrop");if(b){var c=document.querySelector(".cmp_bomb_box");c||(b.className="cmp-backdrop cmp_bomb_box_backdrop "+(a?a:""))}else b=document.createElement("div"),b.className="cmp-backdrop cmp_bomb_box_backdrop "+(a?a:""),b.addEventListener("touchstart",function(a){a.preventDefault(),a.stopPropagation()},!1),b.addEventListener("touchmove",function(a){a.preventDefault(),a.stopPropagation()},!1),document.body.appendChild(b);return b};a.notification.judge=function(b,e,g,j,k,l){var m={title:g||a.i18n("cmp.notification.tips"),message:b,btnsthree:j||c(),icon:k&&k>=0?d[k]:d[4]},n=h(m);i();var o=n.querySelectorAll(".cmp_dialog_btn"),p=0,q=o.length;for(p;q>p;p++)!function(b){a.event.click(o[b],function(){f.pop(),a.notification.close(),e&&e(b)})}(p);if(null==g){var r=n.querySelector(".window_alert_title");r.remove()}l&&f.push(function(){e(l)})},a.notification.alert=function(c,e,g,j,k){var l={title:g?g:a.i18n("cmp.notification.tips"),message:c,btns:j?"[object Array]"===Object.prototype.toString.call(j)?j:[j]:b().slice(0,1),icon:d[4]},m=h(l);i();var n=m.querySelector(".cmp_dialog_btn");a.event.click(n,function(){f.pop(),a.notification.close(),e&&e()}),k&&f.push(e)},a.notification.confirm=function(c,e,g,j,k,l,m){var n={title:g?g:a.i18n("cmp.notification.confirm"),message:c,btns:j||b(),icon:k&&k>=0?d[k]:d[4]},o=h(n);i();for(var p=o.querySelectorAll(".cmp_dialog_btn"),q=0;q<p.length;q++)!function(b){a.event.click(p[b],function(){f.pop(),e?l?e(b,{closeFunc:a.notification.close}):(a.notification.close(),e(b)):a.notification.close()})}(q);if("undefined"!=typeof m&&f.push(function(){e(m)}),null==g){var r=o.querySelector(".window_alert_title");r&&r.remove()}};var j;a.notification.prompt=function(c,d,e,g,k,l,m,n){function o(a){13==a.keyCode&&(a.target.blur(),p(x.length-1))}function p(b){var c=t.value;setTimeout(function(){2==l?d&&(m?d(b,c,z):(a.notification.close(),d(b,c,z))):d&&(t.blur(),m?d(b,c,z):(a.notification.close(),d(b,c,z)))},200)}l=l||1;var q="text";2==l?q="password":3==l?q="number":4==l&&(q="textarea");var r={title:c?c:a.i18n("cmp.notification.confirm"),btns:e||b(),input:!0,placeholder:g||"",defaultVal:k||"",type:q},s=h(r);this.prompt.dialogDiv=s;var t,u=s.getElementsByTagName("input")[0],v=s.getElementsByTagName("textarea")[0];u?t=u:v&&(t=v);var w=i();j={dialogDiv:s,dialogBgDiv:w};var x=s.querySelectorAll(".cmp_dialog_btn"),y=s.querySelector(".input_clear"),z={success:this.prompt.prototype.success,error:this.prompt.prototype.error};2==l&&j.dialogDiv.querySelector(".error").classList.remove("cmp-hidden");
for(var A=0;A<x.length;A++)!function(b){a.event.click(x[b],function(){p(b)})}(A);if(y&&a.event.click(y,function(){u.value="",y.style.display="none"}),u&&(u.addEventListener("input",function(){null==this.value||""==this.value?y.style.display="none":y.style.display="inline-block"},!1),u.removeEventListener("keyup",o,!1),u.addEventListener("keyup",o,!1)),a.platform.wechat&&a.os.android&&u&&(u.addEventListener("focus",function(){w.style.top="0"},!1),u.addEventListener("blur",function(){w.style.top="-1%"},!1)),a.os.ios?a.event.orientationChange(function(a){u.blur()}):setTimeout(function(){t.focus()},300),u){var B=document.querySelector("header");B&&"function"==typeof a.HeaderFixed&&a.HeaderFixed(B,u)}"undefined"!=typeof n&&f.push(function(){d(n)})},a.notification.prompt.prototype.success=function(b){f.pop(),a.notification.close()},a.notification.prompt.prototype.error=function(a){var b=j.dialogDiv.querySelector(".error");b&&(b.classList.remove("cmp-hidden"),b.innerText=a)},a.notification.getPushState=function(b){a.os.ios?cordova.exec(function(a){b&&b(a)},function(a){b&&b(a)},"RemoteNotificationPlugin","getRemoteNotificationType",[{}]):b&&b(!1)},a.notification.infoPopup=function(c){var d=a.extend({type:"infoPopup",btnsInfo:[a.i18n("cmp.notification.copy")],callback:null,backbutton2CallbackIndex:null},c);1==d.btnsInfo.length&&d.btnsInfo.push(b()[0]);var e=h(d),g=i(),j=e.querySelectorAll(".window_alert_sub"),k=0,l=j.length;for(k;l>k;k++)!function(b){a.event.click(j[b],function(){d.backbutton2CallbackIndex&&f.pop(),a.notification.close(),d.callback&&d.callback(b)})}(k);a.event.click(g,function(){d.backbutton2CallbackIndex&&f.pop(),a.notification.close()}),d.backbutton2CallbackIndex&&f.push(function(){d.callback(d.backbutton2CallbackIndex)})},a.notification.close=function(){a.backbutton.pop();var b=document.querySelectorAll(".cmp_bomb_box"),c=document.querySelector(".cmp_bomb_box_backdrop");b&&b.length&&b[b.length-1].remove(),b.length<=1?c&&c.remove():b[b.length-2].classList.remove("cmp-hidden");try{a.event.trigger("backbutton2NotificationCloseCallback",document)}catch(d){}},a.dialog={},a.dialog.success=function(b,c,d,e){a.notification.confirm(b,c,d||a.i18n("cmp.notification.success"),e,0)},a.dialog.error=function(b,c,d,e){a.notification.confirm(b,c,d||a.i18n("cmp.notification.error"),e,1)},a.dialog.failure=function(b,c,d,e){a.notification.confirm(b,c,d||a.i18n("cmp.notification.failed"),e,2)},a.dialog.warning=function(b,c,d,e){a.notification.confirm(b,c,d||a.i18n("cmp.notification.warning"),e,3)};var k='<ul class="cmp-input-group">    <% for(var j=0; j<g.length;j++){ %>    <li class="cmp-input-row cmp-radio cmp-text-left sel-target" id="<%=g[j].key %>" sel_data="<%=g[j].key %>" sel_text="<%=g[j].name %>" sel_type="<%=type %>">        <span class="cmp-pull-left label"><%=g[j].name %></span>        <input name="radio_<%=i %>" type="radio" <% if(g[j].status ==1){ %>checked<% } %>>    </li>    <% } %></ul>',l='<ul class="cmp-input-group">    <% for(var j=0; j<g.length;j++){ %>    <li class="cmp-input-row cmp-checkbox cmp-text-left sel-target" id="<%=g[j].key %>" sel_data="<%=g[j].key %>" sel_text="<%=g[j].name %>" sel_type="<%=type %>">        <span class="cmp-pull-left label" ><%=g[j].name %></span>        <input name="checkbox_<%=i %>" type="checkbox" <% if(g[j].status ==1){ %>checked<% } %>>    </li>    <% } %></ul>',m='<% for(var j=0; j<g.length;j++){ %>    <li class="cmp-table-view-cell sel-target" sel_data="<%=g[j].key %>" sel_text="<%=g[j].name %>" sel_type="<%=type %>">        <span class="items-value cmp-pull-left"><%= g[j].name %></span>        <div class="popover-switch cmp-pull-right">            <div class="cmp-switch cmp-switch-blue cmp-switch-mini <% if(g[j].status ==1){ %>cmp-active<% } %>" >                <div class="cmp-switch-handle"></div>            </div>        </div>        <div class="cmp-switch-mask"></div>    </li><% } %>',n='<% for(var j=0; j<g.length;j++){ %>    <li class="cmp-table-view-cell sel-target" sel_data="<%=g[j].key %>" sel_text="<%=g[j].name %>" sel_type="<%=type %>">        <span class="items-value cmp-pull-left"><%= g[j].name %></span>        <span class="items-value cmp-pull-right"><%= g[j].name2 %></span>    </li><% } %>',o='<div class="actionSheet-content ">    <div id="actionSheet-scroll" class="actionSheet-scroll-groups">        <div class="">            <ul class="cmp-table-view">                <% for(var i = 0;i < this.items.length;i++){ %>                     <% var o = this.items[i];%>                    <% if(this.type == "toggle"){ %>                        <li class="cmp-table-view-cell sel-target" sel_text="<%=o.name %>" sel_data="<%=o.key %>" <%if(o.name2){ %>sel_text2="<%=o.name2 %> <% } %>>                                <a href="javascript:void (0);" style="color: #262626;" ><%=o.name %></a>                        </li>                    <% }else if(this.type == "group"){ %>                        <% if(o.groupName){ %>                            <li class="cmp-table-view-group cmp-text-left cmp-group-name"><%=o.groupName %></li>                        <% } %>                        <% var g=o.items,type=o.type;%>                        <% if(type == "radio"){ %> '+k+'                        <% }else if(type=="checkbox"){ %>'+l+'                        <% }else if(type == "switch"){ %>'+m+'                        <% }else if(type == "text"){ %>'+n+'                        <% } %>                    <% } %>                <% } %>            </ul>        </div>    </div></div><ul class="cmp-table-view cmp-sheet-bottomBtn">    <li class="cmp-table-view-cell">        <a href="javascript:void (0);">            <span><%=this.bottomText %></span>        </a>    </li></ul>';a.dialog.actionSheet=function(b,c,d,e){c=c||a.i18n("cmp.notification.cancel"),p(b,c,d,e,"toggle")},a.dialog.groupSheet=function(b,c,d){c=c||a.i18n("cmp.notification.close"),p(b,c,d,null,"group")};var p=function(b,c,d,e,f){function g(){j.classList.contains("cmp-active")&&(j.classList.remove("cmp-active"),j.remove(),a.notification.close())}var h=document.querySelector(".cmp-popover-mark");h&&h.remove();var j=document.createElement("div"),k=!1;j.id="cmpActionSheet_"+a.buildUUID();var l="cmp-popover-action cmp-popover-bottom cmp_bomb_box";if("toggle"==f&&b&&b.length>6?(k=!0,l+=" cmp-popover2 "):l+=" cmp-popover cmp-popover-mark",j.className=l,j.style.marginLeft=0,!b||b.length<=0)return void console.error("dialog action sheet need items!");var m={items:b||[],bottomText:c,type:f};j.innerHTML=a.tpl(o,m),document.body.appendChild(j),a.each(j.querySelectorAll("li.sel-target"),function(b){var c=this,h=c.getAttribute("sel_data"),i=c.getAttribute("sel_text"),k=c.getAttribute("sel_type"),l=c.querySelector(".cmp-switch");l&&a(l)["switch"](),a.event.click(c,function(){var b,m={key:h,name:i};for(a.antiriotLayer(j),c.getAttribute("sel_text2")&&(c.innerHTML=c.getAttribute("sel_text2")),b=c.parentNode;b!=document.body&&!b.classList.contains("cmp-popover-action");b=b.parentNode);if("toggle"==f)g();else if("group"==f)switch(k){case"radio":case"checkbox":var n,o=c.querySelector("input");"checkbox"==k&&o.checked?(o.checked=!1,n=0):(o.checked=!0,n=1),m=a.extend(m,{status:n,type:k});break;case"switch":a(l)["switch"]().toggle();var n=l.classList.contains("cmp-active")?1:0;m=a.extend(m,{status:n,type:k});break;case"text":m=a.extend(m,{type:k})}h?d&&d(m):e&&e()})});var n=j.querySelector(".actionSheet-content"),p=j.querySelectorAll(".cmp-table-view-cell");if(k){document.querySelector("#"+j.id).classList.add("cmp-active");var q=i();a.backbutton.push(a.notification.close),q&&q.addEventListener("tap",function(){j&&j.remove(),this.remove()},!1)}else a("#"+j.id).popover("show"),setTimeout(function(){var a=document.querySelector(".cmp-backdrop");a&&a.classList.add("cmp_bomb_box_backdrop")},200);"toggle"==f&&(n.style.height=(p.length-1)*p[0].offsetHeight+"px"),a.event.click(j.querySelector(".cmp-sheet-bottomBtn"),function(){cmp("#"+j.id).popover("toggle")}),a("body").on("hidden","#"+j.id,function(a){try{j&&j.remove()}catch(a){}})},q='<div class="content-typical"><div class="content-title"><%=this.title %></div>  <div id="scroll" class="background_fff" style="overflow-y:auto;">  <ul class="cmp-table-view">        <% for(var i = 0,len = this.items.length;i < len ; i++) { %>        <li class="cmp-table-view-cell"><%=this.items[i] %></li>        <% } %>    </ul></div>    <div class="typical-button">        <button class="cmp-btn cmp-btn-primary"><%=this.cancel %></button>    </div></div>';a.dialog.list=function(b,c,d,e,f){var g=document.createElement("div");if(g.className="cmp-alert-typical cmp_bomb_box",i(),!b||b.length<=0)return void console.error("dialog action sheet need items!");a.backbutton.push(a.notification.close);var h={items:b||[],title:c||"标题",cancel:d||a.i18n("cmp.notification.cancel")};g.innerHTML=a.tpl(q,h),a.each(g.querySelectorAll("li"),function(b){!function(b,c){a.event.click(b,function(){a.notification.close(),e&&e({content:b.innerHTML,index:c})})}(this,b)});var j=g.querySelector("button");a.event.click(j,function(){a.notification.close(),f&&f()}),document.body.appendChild(g);var k=g.querySelectorAll("li"),l=k[0].offsetHeight*k.length,m=g.querySelector("#scroll");l>344?m.style.height="344px":m.style.height=l+"px",new a.iScroll(m)};var r=function(a,b){return a=a||"#E4E4E4",b=b||"#3aadfb",'<svg class="loading-svg" version="1.1"\n     viewBox="0 0 100 100"\n     xmlns="http://www.w3.org/2000/svg">\n    <g>\n        <circle cx="50" cy="50" r="42" stroke="'+a+'"\n                stroke-width="8" fill="transparent"/>\n        <circle cx="50" cy="50" r="42" stroke="'+b+'"\n                stroke-width="8" fill="transparent" stroke-dasharray="50,400"/>\n        <animateTransform\n                attributeName="transform"\n                begin="0s" dur="1.1s" type="rotate"\n                from="0,50,50" to="360,50,50"\n                repeatCount="indefinite"/>\n    </g>\n</svg>'},s={loading:'<div class="cmp-loadStatus cmp-status-loading">'+r("#fff")+'<% if(this && this.text){%><div class="cmp-loading-text"><%=this.text %></div><% } %></div>',systembusy:'<div class="cmp-loadStatus cmp-status-systembusy" style="margin-top: 110px;" ><% if(this && this.text){%><span class="cmp-loading-text"><%=this.text %> </span><% } %> <div class="load-status-icon"  style="line-height: inherit;;" ></div> </div>',nonetwork:'<div style="margin-top: 70px;" class="cmp-loadStatus cmp-status-nonetwork"><% if(this && this.text){%><div class="cmp-loading-text"><%=this.text %></div> <div class=" cmp-badge custom refresh nonetwork ">    </div> <% } %></div>',nocontent:'<div class="cmp-loadStatus cmp-status-nocontent"><div class="loading-logo"></div><% if(this && this.text){%><div class="cmp-loading-text"><%=this.text %></div><% } %></div>',global:'<div class="cmp-loadStatus cmp-status-global">'+r()+'<% if(this && this.text){%><div class="cmp-loading-text"><%=this.text %></div><% } %></div>',nohtml:'<div class="cmp-loadStatus cmp-status-nohtml"><% if(this && this.text){%><div class="cmp-loading-text"><%=this.text %></div><% } %></div>'},t=function(){return{loading:a.i18n("cmp.notification.loading"),systembusy:a.i18n("cmp.notification.systembusy"),nonetwork:a.i18n("cmp.notification.nonetwork"),nocontent:a.i18n("cmp.notification.nocontent"),global:"",nohtml:a.i18n("cmp.notification.nohtml")}},u=!1;a.dialog.loading=function(b){var c,d,e,f,g,h,i,j,k,l=!1,m=null;"undefined"==typeof b||"boolean"==typeof b&&1==b?(c="loading",l=!0,f="",e=!0):"boolean"==typeof b&&0==b?e=!1:"string"==typeof b?(c="loading",l=!0,e=!0,f=b):"object"==typeof b&&(e=!0,b.status&&(c=b.status,b.callback&&(m=b.callback)),b.value&&(c="loading"),f=b.text&&"undefined"!=typeof b.text?b.text:t()[c],b.value&&(g="undefined"!=typeof b.value?b.value:t()[c]),b.background&&(h=b.background),b.dom&&(j="string"==typeof b.dom?document.querySelector(b.dom):b.dom,j.classList.add("create_backdrap_dialog")));var n=document.querySelector(".cmp-toast-loading"),o=CMPFULLSREENHEIGHT,p=document.querySelector("header.cmp-bar.cmp-bar-nav"),q=document.querySelector("footer.cmp-loading-footer-bar"),r=0,v=0;if(p&&(r=p.offsetHeight),b&&b.calcHClass&&"string"==typeof b.calcHClass){var w=document.querySelectorAll("."+b.calcHClass);if(w&&w.length)for(var x=0;x<w.length;x++)r+=w[x].offsetHeight||0}if(q&&(v=q.offsetHeight,i=v),e)if(d=s[c],b&&b.status&&"loading"==b.status||l)"object"==typeof b&&a.dialog.loading2({text:b.text||f}),l&&a.dialog.loading2(b);else{if(k=g?g:f,n){var y=document.querySelector(".cmp-status-"+c);null==y&&(n.innerHTML=a.tpl(d,{text:k}),"object"==typeof b&&b.url&&(n.style.background="url("+b.url+")no-repeat"),j?j.appendChild(n):document.body.appendChild(n))}else n=document.createElement("div"),n.className="cmp-loading cmp-loading-fixed cmp_bomb_box",h&&(n.style.backgroundColor=h),i&&(n.style.bottom=i+"px"),n.innerHTML=a.tpl(d,{text:k}),"object"==typeof b&&b.url&&(n.style.background="url("+b.url+")no-repeat"),j?j.appendChild(n):document.body.appendChild(n);var z=n.querySelector(".cmp-loading-text");if(z&&(n.querySelector(".cmp-loading-text").innerHTML=k),"object"==typeof b){if(b.status&&"systembusy"==b.status&&(u=!0,n.addEventListener("tap",function(){u=!1,m&&m()},!1),n.classList.add("systembusy")),b.status&&"nonetwork"==b.status){u=!0;var A=n.querySelector(".refresh");A.innerHTML=a.i18n("cmp.notification.reloadBtn"),A.addEventListener("click",function(){u=!1,m&&m()},!1),n.classList.add("nonetwork")}b.status&&"nocontent"==b.status&&n.classList.add("nocontent"),b.status&&"global"==b.status&&n.classList.add("global"),b.status&&"nohtml"==b.status&&n.classList.add("nohtml")}n.style.display="-webkit-box",a.event.orientationChange(function(){n.style.height=window.innerHeight-r-v+"px"}),n.style.height=o-r-v+"px",n.style.bottom=0}else{if(!n){var B=document.querySelector(".cmp-loading.cmp-loading-fixed");return void(B&&B.remove())}a.dialog.loading2(b)}};var v='<div class="cmp-toast-message"><%=this.message %></div>',w='<div class="cmp_toast_icon cmp_toast_success_warp">   <div class="see-icon see-icon-succeed"></div>    <% if(this.message){ %>    <div class="cmp-toast-msg"><%=this.message %></div>    <% } else { %>    <div class="cmp-toast-msg"><%=this.finish %></div>   <% } %></div>';a.notification.toast=function(b,c,d,e){function f(){var a=this,b=window.getComputedStyle(this,!1).opacity;1==b?setTimeout(function(){a&&a.classList.add("cmp_toast_hidden")},d||1e3):a.remove()}var g={message:b,finish:a.i18n("cmp.notification.finish")},h=document.createElement("div");h.className="cmp_toast_container cmp_toast_container_extend cmp_toast_hidden_init cmp-toast cmp_toast_hidden",(void 0==e||1!=e)&&(e=0),(void 0==c||"top"!=c&&"center"!=c)&&(c="bottom"),h.classList.add("cmp-toast-"+c),"top"==c&&(a.os.ios&&!a.platform.wechat&&(h.style.top="15px"),a.os.ios&&a.platform.wechat&&(h.style.top="0"));var i=document.querySelector(".cmp-toast");switch(i&&i.classList.contains("cmp-toast-"+c)&&i.remove(),e){case 0:h.classList.add("cmp_new_toast_container"),h.innerHTML=a.tpl(v,g),document.body.appendChild(h),h.querySelector(".cmp-toast-message").style.width="auto",h.querySelector(".cmp-toast-message").style.maxWidth=window.innerWidth-60+"px",h.style.marginLeft=-h.clientWidth/2+"px";break;case 1:h.innerHTML=a.tpl(w,g),document.body.appendChild(h)}"center"==c&&(h.style.top=(window.innerHeight-h.offsetHeight)/2+"px"),setTimeout(function(){h.classList.remove("cmp_toast_hidden_init"),h.classList.remove("cmp_toast_hidden")},0),h.addEventListener("transitionend",f),h.addEventListener("webkitTransitionEnd",f)},a.notification.toastExtend=function(a,b,c,d){var e=document.createElement("div");e.className="cmp-alert-typical cmp-toast",(void 0==b||"top"!=b&&"center"!=b)&&(b="bottom"),("top"==b||"bottom"==b)&&(e.classList.add("cmp-toast-"+b),"bottom"==b&&e.classList.add("extend"),cmp.os.ios&&!cmp.platform.wechat&&(e.style.top="15px"),cmp.os.ios&&cmp.platform.wechat&&(e.style.top="0"));var f="rgba(0, 0, 0, 0.7)",g="#fff";d&&(f=d.bg?d.bg:f,g=d.color?d.color:g),e.innerHTML='<div class="content-typical2 cmp-toast-message2" style="background-color: '+f+";color:"+g+';">'+a+"</div>",document.body.appendChild(e),"center"==b&&(e.style.top=(window.innerHeight-e.offsetHeight)/2+"px"),setTimeout(function(){e.remove()},c||2e3)};var x='<div class="cmp_bubble">    <%if(this.btnLabels && this.btnLabels.length != 0){%>        <% for(var i = 0,len = this.btnLabels.length;i < len; i++){ %>            <span class="cmp_bubble_btn"><%=this.btnLabels[i] %></span>        <% } %>    <% } else {%>        <% for(var i = 0,len = this.defaultBtnLabels.length;i < len; i++){ %>             <span class="cmp_bubble_btn"><%=this.defaultBtnLabels[i] %></span>        <% } %>    <% } %></div>';a.notification.bubble=function(b,c){var d={btnLabels:c,defaultBtnLabels:[a.i18n("cmp.notification.copy"),a.i18n("cmp.notification.transmit"),a.i18n("cmp.notification.revoke")]},e=document.createElement("div");e.classList.add("cmp_bubble_container");var f=document.createElement("div");f.classList.add("cmp_upper_triangle"),e.innerHTML=a.tpl(x,d),document.body.appendChild(e),document.body.insertBefore(f,e);for(var g=e.querySelectorAll(".cmp_bubble_btn"),h=0,i=c.length;i>h;h++)!function(c){a.event.click(g[c],function(){e.remove(),f.remove(),b&&b(c)})}(h)};var y='<div class="cmp_toast_icon">'+r("#fff")+'    <div class="cmp-toast-msg"><%=this.text %></div></div>';a.dialog.loading2=function(b){var c,d="",e="",f="",g="",h=CMPFULLSREENHEIGHT,j=document.querySelector("header.cmp-bar.cmp-bar-nav"),k=document.querySelector("footer.cmp-loading-footer-bar"),l=0,m=0;j&&(l=j.offsetHeight,f=l),k&&(m=k.offsetHeight,g=m),"undefined"==typeof b||"boolean"==typeof b&&1==b?(d=!0,e=a.i18n("cmp.notification.loading2")):"boolean"==typeof b&&0==b?d=!1:"string"==typeof b?(d=!0,e=b):"object"==typeof b&&(d=!0,b.text&&(e="undefined"!=typeof b.text?b.text:a.i18n("cmp.notification.loading2")),b.dom&&(c="string"==typeof b.dom?document.querySelector(b.dom):b.dom,c.classList.add("create_backdrap_dialog")));var n=document.querySelectorAll(".cmp-toast-loading");if(d)if(n&&0!=n.length)n[0].innerHTML=a.tpl(y,{text:e});else{var o=i();b&&b.dom||(f&&(o.style.top=f+"px"),g&&(o.style.bottom=g+"px"),o.style.backgroundColor="transparent");var p=document.createElement("div");p.className="cmp_toast_container cmp_toast_container_extend cmp-toast-center cmp-toast-loading",p.innerHTML=a.tpl(y,{text:e}),c?c.appendChild(p):document.body.appendChild(p),b&&b.dom||(p.style.top=(window.innerHeight-p.offsetHeight)/2+"px"),o.style.height=h-l-m+"px"}else{var p=document.querySelector(".cmp-toast-loading");p&&p.remove();var q=document.querySelectorAll(".cmp_bomb_box"),o=document.querySelector(".cmp_bomb_box_backdrop");q&&q.length||o&&o.remove()}},a.notification.alertView=function(b){var c=a.extend({title:null,message:"提示内容",buttonTitles:[],success:function(){},error:function(){}},b);cordova.exec(function(a){"function"==typeof c.success&&c.success(a)},function d(d){"function"==typeof c.error&&c.error(d)},"CMPAlertViewPlugin","showAlertView",[{title:c.title,message:c.message,buttonTitles:c.buttonTitles}])}}(cmp),function(a){a.connection={};var b=function(a,b){var c;c="network_type:wifi"==a.err_msg?"wifi":"network_type:wwan"==a.err_msg?a.subtype:"network_type:fail"==a.err_msg?"none":"Unknown",b&&b(c)};a.connection.getNetworkType=function(c){var d,e=!0;if(a.platform.CMPShell)cordova.exec(function(a){e&&(c.success(a),e=!1)},null,"NetworkStatus","getConnectionInfo",[]);else if(a.platform.wechat)try{"undefined"!=typeof WeixinJSBridge?WeixinJSBridge.invoke("getNetworkType",{},function(a){b(a,c.success)}):document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.invoke("getNetworkType",{},function(a){b(a,c.success)})})}catch(f){}else a.ajax({url:"cmptestnetwork",error:function(a){d=0==a.status?"none":"wifi",c.success&&c.success(d)}})},a.connection.getNetworkDetail=function(a){cordova.exec("undefined"==typeof a.success?null:a.success,"undefined"==typeof a.error?null:a.error,"NetInfoPlugin","getInfo",[{}])},a.connection.getNetworkStatus=function(b){a.platform.CMPShell?cordova.exec("undefined"==typeof b.success?null:b.success,"undefined"==typeof b.error?null:b.error,"NetworkStatus","getNetworkStatusInfo",[{}]):"function"==typeof b.success&&b.success.call(this,{serverStatus:"connect"})}}(cmp),function(){window.fI18nData=window.fI18nData||{},fI18nData.errorHandlerI18n={"zh-CN":{tips:"提示",ok:"确认",logonFailureMsg:"由于服务器或者你长时间未做操作，现已登录失效，请点击返回登录页按钮重新登录",logonFailureTitile:"登录失效",logonFailureBtn:"返回登录页",requestFailureMsg:"请求数据失败",requestErrorMsg_noContent:"未将错误信息返回",connectFailed:"连接服务器失败",error:"错误",returnPrePage:"返回上一页",networkLose:"当前网络不可用，请检查您的网络设置",serverError:"服务器出小差了，请稍候重试"},"zh-TW":{tips:"提示",ok:"確認",logonFailureMsg:"由於服務器或者你長時間未做操作，現已登錄失效，請點擊返回登陸頁按鈕重新登陸",logonFailureTitile:"登錄失效",logonFailureBtn:"返回登錄頁",requestFailureMsg:"請求數據失敗",requestErrorMsg_noContent:"未將錯誤信息返回",connectFailed:"連接服務器失敗",error:"錯誤",returnPrePage:"返回上一頁",networkLose:"當前網絡不可用，請檢查您的網絡設置",serverError:"服務器出小差錯，請稍後重試"},en:{tips:"Prompt",ok:"OK",logonFailureMsg:"Login failed,please click GO LOGIN PAGE to try login again",logonFailureTitile:"Login failure",logonFailureBtn:"GO LOGIN PAGE",requestFailureMsg:"Request failed",requestErrorMsg_noContent:"Can't receive request error info",connectFailed:"Connect failed",error:"Error",returnPrePage:"Return previous page",networkLose:"This network can't work,please check your network state",serverError:"The server occur error,please try it later"}}}(),function(a){function b(b,d){a.mark.mark1004(),c(d)}function c(a,b){var c=b?d:null;cmp.platform.CMPShell?cordova.exec(c,function(){},"CMPServerPlugin","showSessionInvalidAlert",[{title:fI18nData.errorHandlerI18n[i].logonFailureTitile,content:a,buttonTitle:fI18nData.errorHandlerI18n[i].logonFailureBtn}]):(k||cmp.notification.alert(a,function(){cmp.platform.wechatOrDD&&cmp.href.closePage(),k=!1},fI18nData.errorHandlerI18n[i].logonFailureTitile,fI18nData.errorHandlerI18n[i].logonFailureBtn),k=!0)}function d(){cordova.exec(function(){cmp.setCookie()},function(){},"CMPServerPlugin","clearLoginResult",[{}])}function e(a){try{cmp.notification.toast(a,"center")}catch(b){alert(a)}}function f(){cmp.connection.getNetworkType({success:function(a){"none"==a.toLocaleLowerCase()?cmp.notification.toast(fI18nData.errorHandlerI18n[i].networkLose,"center"):cmp.notification.toast(fI18nData.errorHandlerI18n[i].serverError,"center")}})}function g(){try{cmp.notification.alert(fI18nData.errorHandlerI18n[i].requestErrorMsg_noContent,null,fI18nData.errorHandlerI18n[i].requestFailureMsg,fI18nData.errorHandlerI18n[i].ok)}catch(a){alert(fI18nData.errorHandlerI18n[i].requestErrorMsg_noContent)}}function h(a){if(!k)try{cmp.notification.alert(fI18nData.errorHandlerI18n[i].networkLose,function(){k=!1,"function"==typeof a&&a()},fI18nData.errorHandlerI18n[i].tips,fI18nData.errorHandlerI18n[i].ok)}catch(b){alert(fI18nData.errorHandlerI18n[i].networkLose)}k=!0}var i=cmp.language,j={unauthorized:401,outOfConcurrency:1001,outOfConcurrency_account:1002,forceOffline:1003,loginOther:1004,modifyPassword:1005,accountOffline:1006,loginOther2:1007,v5m3close:1010,connectFailed:-1001,iosnetworklose0:-1004,iosnetworklose1:-1005,isonetworklose2:-1009,v5close0:50011,v5close1:50022,pageError:9001,jssdkNotFound:9002,unclearError:9003,networkLose:9004},k=!1,l=function(){function a(a,b,c){this.code=a,this.message=b,this.detail=c}return a.prototype.handleV5Error=function(a){switch(cmp.dialog.loading(!1),this.code){case j.unauthorized:case j.outOfConcurrency:case j.outOfConcurrency_account:case j.forceOffline:case j.modifyPassword:case j.accountOffline:case j.v5m3close:m(this.code,this.message);break;case j.loginOther:case j.loginOther2:b(this.code,this.message);break;case j.connectFailed:case j.iosnetworklose0:case j.iosnetworklose1:case j.isonetworklose2:case j.v5close0:case j.v5close1:e(this.message);break;case j.pageError:n();break;case j.jssdkNotFound:f();break;case j.unclearError:g();break;case j.networkLose:h(a)}},a}(),m=function(a,b){switch(a){case 401:b=b||fI18nData.errorHandlerI18n[i].logonFailureMsg;break;case 1001:b=b||"用户登陆超出并发数限制";break;case 1002:b=b||"用户登陆超出单位并发数限制";break;case 1003:b=b||"管理员踢人";break;case 1005:b=b||"密码已被修改，请重新登陆";break;case 1006:b=b||"您的账号已被下线!";break;case 1010:b=b||"被迫下线，原因：与服务器失去连接"}b&&c(b,!0)},n=function(){var a,b="undefined"!=typeof cmpPageErrorMsg?cmpPageErrorMsg:"页面发生错误!程序中断!",c=cmpCommonPageBackBtn.getAttribute("onclick")||cmpCommonPageBackBtn.getAttribute("ondblclick")?!0:!1;if("undefined"!=typeof jQuery&&(a="undefined"!=typeof $._data($(".cmpCommonPageBackBtn")[0],"events")?!0:!1),!a&&!c)if(cmp&&cmp.href.back)cmp.notification.alert(b,function(){cmp.platform.CMPShell||cmp.platform.wechatOrDD?cmp.href.back():window.history.back()},fI18nData.errorHandlerI18n[i].error,fI18nData.errorHandlerI18n[i].returnPrePage);else if(alert(b),window.history.length>1)window.history.back();else if(cmp.platform.wechat)try{WeixinJSBridge.invoke("closeWindow",{},function(a){})}catch(d){}},o=[401,1001,1002,1003,1004,1005,1006,1007,-1001,-1004,-1005,-1009,50011,50022,1010];a.errorHandler=function(b,c){try{var d,e,f;if("object"==typeof b){if(d=b.code,e=b.message,!d){var g=b.responseText;if(f=b.status,g)try{d=a.parseJSON(g).code}catch(h){}}}else try{b=a.parseJSON(b),d=b.code,e=b.message}catch(h){}if(d=parseInt(d),isNaN(d)){if(0==f){var i=new l(9004);return i.handleV5Error(c),!0}}else{if(-1!=o.indexOf(d)){try{cmp.connection.getNetworkType({success:function(a){if("none"==a.toLocaleLowerCase()){var b=new l(9004);b.handleV5Error(c)}else{var b=new l(d,e);b.handleV5Error()}}})}catch(h){var i=new l(d,e);i.handleV5Error()}return!0}if(9001==d||9002==d){var i=new l(d);return i.handleV5Error(),!0}}}catch(h){}return!1}}(cmp),function(a){a||(a={});var b,c,c,d=0,e={"zh-CN":{backCue:"再按一次返回关闭程序"},"zh-TW":{backCue:"再按一次返回關閉程式"},en:{backCue:"Press Return Again to Exit App"}};a.closeM3App=function(){b=(new Date).getTime(),d++,1===d&&(a.notification.toast(e[a.language].backCue,"center",1e3),c=setTimeout(function(){d=0},1e3)),2===d&&(clearTimeout(c),cordova.exec(null,null,"CMPExitAppPlugin","exitApp",[{}]))}}(cmp);